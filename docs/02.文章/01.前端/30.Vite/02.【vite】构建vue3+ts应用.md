---
title: ã€viteã€‘vite + vue3 + setup + pinia + ts çˆ½åˆ°é£èµ·
date: 2021-11-22 19:26:19
permalink: /pages/2833ad/
categories:
  - æ–‡ç« 
tags:
  - vite
  - vue
---

`vite` + `vue3` + `setup` + `pinia` + `ts` çˆ½åˆ°é£èµ·ï¼Œè°ç”¨è°çŸ¥é“ï¼Œçºµäº«ä¸æ»‘èˆ¬çš„ä½“éªŒ~

<!-- more -->

## å‰è¨€

å‰ä¸¤å¤©æ¥åˆ°äº†ä¸€ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯æŠŠåŸæ¥çš„ä¸€ä¸ªé¡¹ç›®çš„ä¸»è¦åŠŸèƒ½æ¨¡å—å’Œç”¨æˆ·æ¨¡å—æƒé™ç³»ç»ŸæŠ½å‡ºæ¥åšä¸€ä¸ªæ–°åå°é¡¹ç›®ï¼Œå¹¶è¿­ä»£æ–°å¢ä¸€äº›æ–°åŠŸèƒ½ï¼Œçœ‹èµ·æ¥å¥½åƒä¹Ÿæ²¡å•¥ä¸œè¥¿

æ‹¿åˆ°æºç çœ‹äº†ä¸‹é¡¹ç›®ï¼Œå¥½å®¶ä¼™ï¼ŒåŸé¡¹ç›®æ˜¯ä¸ªå¾®åº”ç”¨é¡¹ç›®ï¼Œä¸»åº”ç”¨ç”¨æˆ·æ¨¡å—æ˜¯`react`æŠ€æœ¯æ ˆï¼Œå­åº”ç”¨æ¨¡å—æ˜¯`vue2`æŠ€æœ¯æ ˆï¼Œè¿™ç›´æ¥ CVå¤§æ³•çœ‹æ ·å­æ˜¯ä¸è¡Œäº†ğŸ‘€ï¼Œæˆ‘è¿™è¦åšçš„æ¯•ç«Ÿæ˜¯ä¸ªå•é¡µé¢åº”ç”¨ï¼Œç¡®å®šä¸€ä¸ªæŠ€æœ¯è·¯çº¿å³å¯ï¼Œå…·ä½“çœ‹ä¸‹ä»£ç é€»è¾‘å¹¶è·‘èµ·æ¥çœ‹çœ‹

è·‘èµ·æ¥è¯•äº†ä¸‹ï¼Œä¸¤ä¸ªé¡¹ç›®åŸºæœ¬éƒ½æ˜¯1åˆ†é’Ÿå·¦å³å¯åŠ¨ï¼Œçœ‹ä»£ç vueé¡¹ç›®æ•´ä¸ªä¸šåŠ¡é€»è¾‘ä»£ç éƒ½æ‹§åœ¨ä¸€å—å†™äº†

æƒ³åˆ°ä¹‹å‰é—®è€å¤§è¦æºç çš„æ—¶å€™ï¼Œè¯´é‚£ä¸ªæ˜¯è€é¡¹ç›®äº†ï¼Œé‡æ–°æ­ä¸€ä¸ªå†™åº”è¯¥ä¼šå¿«ç‚¹

è¿™è¯æ²¡æ¯›ç—…å•Šï¼Œè¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€æ•´ï¼Œè¿™æ¬¡ç›´æ¥ä¸Š `vite` + `vue3`

## ä»‹ç»

ä¸€ä¸ªä½¿ç”¨ `vite` + `vue3` + `pinia` + `ant-design-vue` + `typescript` å®Œæ•´æŠ€æœ¯è·¯çº¿å¼€å‘çš„é¡¹ç›®ï¼Œç§’çº§å¼€å‘æ›´æ–°å¯åŠ¨ã€æ–°çš„`vue3 composition api` ç»“åˆ `setup`çºµäº«ä¸æ»‘èˆ¬çš„å¼€å‘ä½“éªŒã€å…¨æ–°çš„ `pinia`çŠ¶æ€ç®¡ç†å™¨å’Œä¼˜ç§€çš„è®¾è®¡ä½“éªŒï¼ˆ`1k`çš„sizeï¼‰ã€`antd`æ— éšœç¢è¿‡æ¸¡ä½¿ç”¨UIç»„ä»¶åº“ `ant-design-vue`ã€å®‰å…¨é«˜æ•ˆçš„ `typescript`ç±»å‹æ”¯æŒ

## ç‰¹æ€§

- âœ¨è„šæ‰‹æ¶å·¥å…·ï¼šé«˜æ•ˆã€å¿«é€Ÿçš„ **Vite**
- ğŸ”¥å‰ç«¯æ¡†æ¶ï¼šçœ¼ä¸‹æœ€æ—¶é«¦çš„ **Vue3**
- ğŸçŠ¶æ€ç®¡ç†å™¨ï¼š`vue3`æ–°ç§€ **Pinia**ï¼ŒçŠ¹å¦‚ `react zustand`èˆ¬çš„ä½“éªŒï¼Œå‹å¥½çš„apiå’Œå¼‚æ­¥å¤„ç†
- ğŸ†å¼€å‘è¯­è¨€ï¼šæ”¿æ²»æ­£ç¡® **TypeScript**
- ğŸ‰UIç»„ä»¶ï¼š`antd`å¼€å‘è€…æ— éšœç¢è¿‡æ¸¡ä½¿ç”¨ **ant-design-vue**ï¼Œç†Ÿæ‚‰çš„é…æ–¹ç†Ÿæ‚‰çš„å‘³é“
- ğŸ¨cssæ ·å¼ï¼š**less** ã€`postcss`
- ğŸ“–ä»£ç è§„èŒƒï¼š**Eslint**ã€**Prettier**ã€**Commitlint**
- âœŠä¾èµ–æŒ‰éœ€åŠ è½½ï¼š**unplugin-auto-import**ï¼Œå¯è‡ªåŠ¨å¯¼å…¥ä½¿ç”¨åˆ°çš„`vue`ã€`vue-router`ç­‰ä¾èµ–
- ğŸ’ªç»„ä»¶æŒ‰éœ€å¯¼å…¥ï¼š**unplugin-vue-components**ï¼Œæ— è®ºæ˜¯ç¬¬ä¸‰æ–¹UIç»„ä»¶è¿˜æ˜¯è‡ªå®šä¹‰ç»„ä»¶éƒ½å¯å®ç°è‡ªåŠ¨æŒ‰éœ€å¯¼å…¥ä»¥åŠ`TS`è¯­æ³•æç¤º
- ğŸ”’æƒé™ç®¡ç†ï¼šé¡µé¢çº§ã€èœå•çº§ã€æŒ‰é’®çº§ã€æ¥å£çº§

## å¼€å‘

### é¡¹ç›®åˆå§‹åŒ–

> å¦‚æœä½¿ç”¨vscodeç¼–è¾‘å™¨å¼€å‘vue3ï¼Œè¯·åŠ¡å¿…å®‰è£…Volaræ’ä»¶ä¸vue3é…åˆä½¿ç”¨æ›´ä½³ï¼ˆä¸åŸæœ¬çš„Veturä¸å…¼å®¹ï¼‰

ä½¿ç”¨ vite cli å¿«é€Ÿåˆ›å»ºé¡¹ç›®

`yarn create vite project-name`

### å®‰è£…ç›¸å…³ä¾èµ–

æ¨èä½¿ç”¨æ–°ä¸€ä»£ `pnpm` åŒ…ç®¡ç†å·¥å…·ï¼Œæ€§èƒ½å’Œé€Ÿåº¦ä»¥åŠ `node_modules`ä¾èµ–ç®¡ç†éƒ½å¾ˆä¼˜ç§€

å»ºè®®é…åˆ `.npmrc` é…ç½®ä½¿ç”¨

```sh
# æå‡ä¸€äº›ä¾èµ–åŒ…è‡³ node_modules
# è§£å†³éƒ¨åˆ†åŒ…æ¨¡å—not foundçš„é—®é¢˜
# ç”¨äºé…åˆ pnpm
shamefully-hoist = true

# node-sass ä¸‹è½½é—®é¢˜
# sass_binary_site="https://npm.taobao.org/mirrors/node-sass/"
```

## åŠŸèƒ½æ”¯æŒ

### vite plugins

```json
{
    "@vitejs/plugin-legacy": "^1.6.2", // ä½ç‰ˆæœ¬æµè§ˆå™¨å…¼å®¹
    "@vitejs/plugin-vue": "^1.9.3", // vue æ”¯æŒ
    "@vitejs/plugin-vue-jsx": "^1.2.0", // jsx æ”¯æŒ
}
```

### ant-design-vueã€Element Plus ç­‰UIæ¡†æ¶æŒ‰éœ€åŠ è½½

- **unplugin-vue-components**

æ¨èä½¿ç”¨ [unplugin-vue-components](https://github.com/antfu/unplugin-vue-components) æ’ä»¶

è¯¥æ’ä»¶åªéœ€åœ¨ vite pluginä¸­æ·»åŠ å¯¹åº” `AntDesignVueResolver` å³å¯ï¼Œä¹Ÿæ”¯æŒè‡ªå®šä¹‰çš„ `components` è‡ªåŠ¨æ³¨å†Œï¼Œå¾ˆæ–¹ä¾¿

```ts
import { AntDesignVueResolver } from 'unplugin-vue-components/resolvers';
import Components from 'unplugin-vue-components/vite';

// vite.config.ts plugins æ·»åŠ å¦‚ä¸‹é…ç½®
export default defineConfig({
  plugins: [
    Components({
      resolvers: [
        AntDesignVueResolver(), // ant-design-vue
        // ElementPlusResolver(), // Element Plus
        // VantResolver(), // Vant
      ]
    })
  ]
})
```

å½“ç„¶è¿™é‡Œå¦‚æœæ²¡æœ‰ä½ ä½¿ç”¨çš„å¯¹åº”çš„UIæ¡†æ¶çš„ `Resolver`åŠ è½½å™¨ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œä¹Ÿæ”¯æŒè‡ªå®šä¹‰é…ç½®

```ts
Components({
  resolvers: [
    // example of importing Vant
    (name) => {
      // where `name` is always CapitalCase
      if (name.startsWith('Van'))
        return { importName: name.slice(3), path: 'vant' }
    }
  ]
})
```

- **vite-plugin-style-import**

```js
import styleImport from 'vite-plugin-style-import'

// 
plugins:[
  styleImport({
    libs: [
      {
        libraryName: 'ant-design-vue',
        esModule: true,
        resolveStyle: (name) => {
          return `ant-design-vue/es/${name}/style/index`
        },
      }
    ]
  })
]
```

ä¸è¿‡ï¼Œæˆ‘ä¹‹å‰åœ¨å†™ `vite` + `react` æ—¶ï¼Œä½¿ç”¨`vite-plugin-style-import`è¿™ä¸ªæ’ä»¶é‡åˆ°è¿‡çƒ­æ›´æ–°æ ·å¼ä¸åŒæ­¥çš„ä¸€äº›é—®é¢˜

### è‡ªå®šä¹‰ä¸»é¢˜

è‡ªå®šä¹‰ä¸»é¢˜è®¾ç½®å‚è€ƒå®˜æ–¹æ–‡æ¡£é…ç½®å³å¯ï¼Œä¸¤ç§å¸¸è§„æ–¹å¼

1. æŒ‰éœ€åŠ è½½é…åˆ `webpack/vite` lesså±æ€§ä¿®æ”¹å˜é‡
2. å…¨é‡å¼•å…¥ï¼Œé…åˆ `variables.less`è‡ªå®šä¹‰æ ·å¼è¦†ç›–æ¡†æ¶ä¸»é¢˜æ ·å¼

```ts
css: {
  preprocessorOptions: {
    less: {
      modifyVars: { 'primary-color': 'red' },
      javascriptEnabled: true,
    },
  },
}
```

**æ³¨æ„**ï¼šåœ¨ä½¿ç”¨äº† `unplugin-vue-components`è¿›è¡ŒæŒ‰éœ€åŠ è½½é…ç½®åï¼Œç›¸å…³ lesså˜é‡è®¾ç½®éœ€è¦åŒæ­¥å¼€å¯ `importStyle: 'less'`ï¼Œ[unplugin-vue-components issues 160](https://github.com/antfu/unplugin-vue-components/issues/160)

```ts
AntDesignVueResolver({ importStyle: 'less' })
```

### è‡ªåŠ¨å¯¼å…¥

- **unplugin-auto-import**

vueç›¸å…³ `defineComponent` ã€`computed` ã€`watch`ç­‰æ¨¡å—ä¾èµ–æ ¹æ®ä½¿ç”¨ï¼Œæ’ä»¶è‡ªåŠ¨å¯¼å…¥ï¼Œä½ æ— éœ€å…³å¿ƒ `import`ï¼Œç›´æ¥ä½¿ç”¨å³å¯

è¯¥æ’ä»¶é»˜è®¤æ”¯æŒï¼š

- `vue`
- `vue-router`
- `vue-i18n`
- `@vueuse/head`
- `@vueuse/core`
- ...

å½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰é…ç½® [unplugin-auto-import](https://github.com/antfu/unplugin-auto-import#readme)

ç”¨æ³•å¦‚ä¸‹ï¼š

```ts
import AutoImport from 'unplugin-auto-import/vite'

export default defineConfig({
  // ...
  plugins: [
    AutoImport({
      imports: [
        'vue',
        'vue-router',
        'vue-i18n',
        '@vueuse/head',
        '@vueuse/core',
      ],
      dts: 'src/auto-imports.d.ts',
    })
  ]
})
```

éœ€è¦åœ¨`src`ç›®å½•ä¸‹æ·»åŠ  `auto-imports.d.ts`æ–‡ä»¶é…åˆä½¿ç”¨ï¼Œè¯¥æ–‡ä»¶ä¼šè¢«æ’ä»¶è‡ªåŠ¨æ›´æ–°

- **unplugin-vue-components**

è¯¥æ’ä»¶ä¸ä»…æ”¯æŒUIæ¡†æ¶ç»„ä»¶çš„æŒ‰éœ€å¯¼å…¥ï¼Œä¹Ÿæ”¯æŒé¡¹ç›®ç»„ä»¶çš„è‡ªåŠ¨åŒ–å¯¼å…¥

é…ç½®å¦‚ä¸‹:

```ts
Components({
  // allow auto load markdown components under `./src/components/`
  extensions: ['vue', 'md'],

  // allow auto import and register components used in markdown
  include: [/\.vue$/, /\.vue\?vue/, /\.md$/],

  dts: 'src/components.d.ts',
})
```

éœ€è¦åœ¨`src`ç›®å½•ä¸‹æ·»åŠ  `components.d.ts`æ–‡ä»¶é…åˆä½¿ç”¨ï¼Œè¯¥æ–‡ä»¶ä¼šè¢«æ’ä»¶è‡ªåŠ¨æ›´æ–°

- `auto-imports.d.ts`ã€`components.d.ts` ä½œç”¨

æ˜¾æ€§çš„ä½œç”¨æ˜¯ï¼šåœ¨é¡¹ç›®ä¸‹ç”Ÿæˆå¯¹åº”`.d.ts`typeç±»å‹æ–‡ä»¶ï¼Œç”¨äºå¼•ç”¨çš„ç±»å‹æ£€æµ‹é€šè¿‡

å†…éƒ¨æ˜¯æ’ä»¶è‡ªåŠ¨å¤„ç†ï¼ŒæŠŠç›¸å…³ä¾èµ–å¯¼å…¥ç»„ä»¶

- **æ³¨æ„**

> `"unplugin-vue-components": "^0.17.2"`

å½“å‰ç‰ˆæœ¬å·²çŸ¥é—®é¢˜ï¼š[issues 174](https://github.com/antfu/unplugin-vue-components/issues/174)

å¯¹äº `ant-design-vue` çš„ `notification` / `message` ç»„ä»¶ï¼Œå½“åœ¨ `js`ä¸­ä½¿ç”¨æ—¶ï¼Œè¯¥æ’ä»¶ä¸ä¼šæ‰§è¡Œè‡ªåŠ¨å¯¼å…¥èƒ½åŠ›ï¼ˆæ ·å¼ä¸ä¼šè¢«å¯¼å…¥ï¼‰

æœ€ç»ˆæ•ˆæœæ˜¯ï¼š`message.success('xx')`å¯ä»¥åˆ›å»º `DOM`å…ƒç´ ï¼Œä½†æ˜¯æ²¡æœ‰ç›¸å…³æ ·å¼ä»£ç 

å› ä¸ºè¯¥æ’ä»¶çš„è®¾è®¡åŸç†æ˜¯æ ¹æ® `template` ä¸­çš„ç»„ä»¶ä½¿ç”¨è¿›è¡Œå¤„ç†çš„

è§£å†³æ–¹æ¡ˆï¼š

- `vite-plugin-style-import` æ’ä»¶
- æ‰‹åŠ¨å…¨å±€å¼•å…¥ messageç»„ä»¶æ ·å¼ï¼Œ`import 'ant-design-vue/es/message/style'`

### mockæ•°æ®

- **vite-plugin-mock** æ’ä»¶

vite pluginé…ç½®

```ts
viteMockServe({
  ignore: /^\_/,
  mockPath: 'mock',
  localEnabled: !isBuild,
  prodEnabled: false,
  injectCode: `
      import { setupProdMockServer } from '../mock/_createProductionServer';

      setupProdMockServer();
      `,
})
```

æ ¹ç›®å½•ä¸‹åˆ›å»º `_createProductionServer.ts`æ–‡ä»¶

```ts
import { createProdMockServer } from 'vite-plugin-mock/es/createProdMockServer';

const modules = import.meta.globEager('./**/*.ts');

const mockModules: any[] = [];
Object.keys(modules).forEach((key) => {
  if (key.includes('/_')) {
    return;
  }
  mockModules.push(...modules[key].default);
});

/**
 * Used in a production environment. Need to manually import all modules
 */
export function setupProdMockServer() {
  createProdMockServer(mockModules);
}
```

è¿™æ ·mockç›®å½•ä¸‹çš„é `_`å¼€å¤´æ–‡ä»¶éƒ½ä¼šè¢«è‡ªåŠ¨åŠ è½½æˆmockæ–‡ä»¶

å¦‚ï¼š

```ts
import Mock from 'mockjs';

const data = Mock.mock({
  'items|30': [
    {
      id: '@id',
      title: '@sentence(10, 20)',
      account: '@phone',
      true_name: '@name',
      created_at: '@datetime',
      role_name: '@name',
    },
  ],
});

export default [
  {
    url: '/table/list',
    method: 'get',
    response: () => {
      const items = data.items;
      return {
        code: 0,
        result: {
          total: items.length,
          list: items,
        },
      };
    },
  },
];
```

é…ç½®å¥½ä»£ç†ç›´æ¥è¯·æ±‚ `/api/table/list` å°±å¯ä»¥å¾—åˆ°æ•°æ®äº†

### Proxyä»£ç†

```ts
import proxy from './config/vite/proxy';

export default defineConfig({
  // server
  server: {
    hmr: { overlay: false }, // ç¦ç”¨æˆ–é…ç½® HMR è¿æ¥ è®¾ç½® server.hmr.overlay ä¸º false å¯ä»¥ç¦ç”¨æœåŠ¡å™¨é”™è¯¯é®ç½©å±‚
    // æœåŠ¡é…ç½®
    port: VITE_PORT, // ç±»å‹ï¼š number æŒ‡å®šæœåŠ¡å™¨ç«¯å£;
    open: false, // ç±»å‹ï¼š boolean | stringåœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åº”ç”¨ç¨‹åºï¼›
    cors: false, // ç±»å‹ï¼š boolean | CorsOptions ä¸ºå¼€å‘æœåŠ¡å™¨é…ç½® CORSã€‚é»˜è®¤å¯ç”¨å¹¶å…è®¸ä»»ä½•æº
    proxy,
  },
})
```

proxy å¦‚ä¸‹

```ts
import {
  API_BASE_URL,
  API_TARGET_URL,
} from '../../config/constant';
import { ProxyOptions } from 'vite';

type ProxyTargetList = Record<string, ProxyOptions>;

const ret: ProxyTargetList = {
  // test
  [API_BASE_URL]: {
    target: API_TARGET_URL,
    changeOrigin: true,
    rewrite: (path) => path.replace(new RegExp(`^${API_BASE_URL}`), ''),
  },
  // mock
  // [MOCK_API_BASE_URL]: {
  //   target: MOCK_API_TARGET_URL,
  //   changeOrigin: true,
  //   rewrite: (path) => path.replace(new RegExp(`^${MOCK_API_BASE_URL}`), '/api'),
  // },
};

export default ret;
```

### ç¯å¢ƒå˜é‡ .env

æˆ‘è¿™è¾¹æ˜¯æŠŠç³»ç»Ÿå¸¸é‡é…ç½®æ”¾åˆ° `config/constant.ts` ç®¡ç†äº†ï¼Œåœºæ™¯æ¯”è¾ƒç®€ç­”æ–¹ä¾¿äº›

ä¸ºäº†æ–¹ä¾¿ç®¡ç†ä¸åŒç¯å¢ƒçš„æ¥å£å’Œå‚æ•°é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡ .envï¼Œå¦‚ .envã€.env.localã€.env.developmentã€.env.production

é…åˆ `dotenv`åº“ ä½¿ç”¨è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„

## è·¯ç”±å’Œå¸ƒå±€

æ–°ç‰ˆè·¯ç”± `vue-router4.x` æ˜¯æœ‰ä¸€äº›å˜åŒ–çš„ï¼Œè¿™é‡Œä¸å†èµ˜è¿°

å¸ƒå±€ä½¿ç”¨çš„æ˜¯ `@ant-design-vue/pro-layout` ç»“åˆè·¯ç”±é…ç½®ï¼Œä½¿ç”¨èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿

ç”¨æ³•å¦‚ä¸‹ï¼š

```ts
// router.config.ts
import BasicLayout from '/@/layouts/BasicLayout.vue'; // åŸºæœ¬å¸ƒå±€
import BlankLayout from '/@/layouts/BlankLayout.vue'; // ç©ºå¸ƒå±€
import type { RouteRecordRaw } from 'vue-router';

const asyncRouterMap: RouteRecordRaw[] = [
  {
    path: '/',
    name: 'Root',
    redirect: '/app',
    meta: {
      title: 'Root',
    },
  },
  {
    path: '/login',
    component: () => import('/@/views/login/index.vue'),
    name: 'login',
    meta: { title: 'ç™»å½•' },
  },
  {
    path: '/app',
    name: 'index',
    component: BasicLayout,
    redirect: '/app/sys',
    meta: { title: 'ç®¡ç†å¹³å°' },
    children: [
      {
        path: '/app/sys',
        component: BlankLayout,
        name: 'sys',
        redirect: '/app/sys/index',
        meta: {
          title: 'é¦–é¡µ',
          keepAlive: true,
          icon: 'icon-a-SimpleChainlianmenglianjichubantubiao_liulanqi',
        },
        children: [
          {
            path: '/app/sys/index',
            name: 'sys_index',
            component: () => import('/@/views/sys/index.vue'),
            meta: { hideInMenu: true },
          },
          {
            path: '/app/sys/detail',
            name: 'sys_detail',
            component: () => import('/@/views/sys/tradingDetail/index.vue'),
            meta: { title: 'äº¤æ˜“ä¿¡æ¯', breadcrumb: true, hideInMenu: true, hiddenWrap: true },
          },
        ],
      },
    ]
  }
]
```

åœ¨çœ‹çœ‹ `pro-layout`ç»„ä»¶çš„ä½¿ç”¨

```vue
<template>
  <pro-layout
    :locale="locale"
    v-bind="layoutConf"
    v-model:openKeys="state.openKeys"
    v-model:collapsed="state.collapsed"
    v-model:selectedKeys="state.selectedKeys"
    :breadcrumb="{ routes: breadcrumb }"
  >
    <router-view />
  </pro-layout>
</template>  

<script setup lang="ts">
const { menuData } = getMenuData(clearMenuItem(router.getRoutes()));

const layoutConf = reactive<BasicLayoutProps>({
  menuData: menuData, // èœå•æ•°æ®
  ...prolayoutSetting, // åŸºæœ¬è®¾ç½®
});

</script>  
```

æ ¹æ®å®é™…æƒ…å†µå¯ä»¥è‡ªå®šä¹‰å¤„ç† menuDataæ•°æ®ï¼Œå¦‚æˆ‘è¿™é‡Œ

`const menuData = clearMenuItem(router.getRoutes()).filter((n) => n.path.startsWith('/app/'))`

- `hideInMenu` å±æ€§æ˜¯é…åˆ pro-layoutç»„ä»¶ä½¿ç”¨çš„ï¼Œå¯ä»¥ä½¿è¯¥èœå•é¡¹ä¸ä¼šåœ¨èœå•ä¸­æ˜¾ç¤ºï¼Œå¦‚ä¸æƒ³è®© `/app/sys`å¸¦æœ‰å­èœå•
- `breadcrumb`ã€`hiddenWrap`åˆ™æ˜¯æˆ‘æ ¹æ®è‡ªèº«éœ€æ±‚æ·»åŠ çš„

## æƒé™

å‡ ä¸ªå…³é”®è¯ï¼š`router.addRoutes`åŠ¨æ€è·¯ç”±ã€`v-auth`æŒ‡ä»¤ã€`axios`æ‹¦æˆª

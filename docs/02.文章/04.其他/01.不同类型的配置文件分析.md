---
title: 配置文件分析之json、yaml、toml
date: 2022-09-06 18:53:10
permalink: /pages/131a7a/
categories:
  - 文章
tags:
  - 
---

## 前言

配置文件，不言而喻，主要用来我们进行项目和工程配置的关键文件。

单从前端领域说起，我们最熟悉的`package.json`，其为`JSON`类型文件；**pnpm**包管理工具的配置文件`pnpm-lock.yaml`其为`yaml`类型文件（使用过**github action**的应该不陌生，其配置文件也是该格式）；对于toml格式，前端开发者可能确实很少接触，甚至在前端生态下我们使用更多的是`js`类型文件作为配置文件，如：`webpack.config.js`、`vue.config.js`、`rollup.config.js`等等，当然这也有其存在的必要原因。

<!-- more -->

## 背景

最近在做开源项目的时候，在开发许多功能时，考虑到不同场景、不同用户的不同需求，在开始设计功能时就考虑到预留一定的可定制窗口用于用户进行定制化配置，包括在功能不断开发进行时，以及后期的迭代拓展时，都会源源不断的诞生出各种小功能和定制需求，因此对于一个足够简单易用的配置文件选择也是相当有必要的。

在此之前的版本，我已经针对该想法做了初步的实施落地，不过，在此之前我写过一些**github action**的配置，也使用过**pnpm**，因此，对于`yaml`语法算是有个基本的了解，使用起来也是觉得明显优于`json`的，它语法简洁、支持注释，所以，果断选择了`yaml`作为我对于项目的配置文件格式。

不过，在最近这段时间的使用过程中，我也发现了`yaml`存在的一些弊端，比如字符串类似对于引号的使用、多行字符串、缩进问题等（现在发现`yaml`语法还蛮多的，也有很多复杂语法😂），因此，最近我又在考虑这个事情了，想着就直接用 `js`文件得了，还是打算进一步研究一些其他类型的配置文件呢，本篇文章算是对其他类型的配置文件的一种研究和学习了。

## JSON

单从前端领域说起，我们最熟悉的`package.json`，其为`JSON`类型文件，其特点也很明显，以键值对的形式表示，缺点就是不能添加注释以及在未格式化时的可读性极差，这点确实让人很困扰。不过，我们在使用**VS Code**的时候应该也发现了，它的配置文件`setting.json`看上去也是`JSON`类型，但是我们却可以添加注释，其实正确的说法，该文件类型应该是`jsonc`

## yml

该格式的普及和 **k8s** 脱不了干系

## toml

最符合人类的格式

## 资料

- [toml](https://toml.io/cn/v1.0.0)
- [TOML 教程 - 可能是目前最好的配置文件格式](https://zhuanlan.zhihu.com/p/50412485)

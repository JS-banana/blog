<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack+React+TypeScript构建一个标准化应用 | 小帅の技术博客</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/blog/img/favicon.ico">
    <script async="async" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2069361349446100"></script>
    <script async="async" src="/blog//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <meta name="description" content="web前端技术博客,简洁至上,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="cewstn11l3">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/blog/assets/css/0.styles.1722f3e3.css" as="style"><link rel="preload" href="/blog/assets/js/app.8943bfc3.js" as="script"><link rel="preload" href="/blog/assets/js/2.6ed24f91.js" as="script"><link rel="preload" href="/blog/assets/js/3.c0dae15f.js" as="script"><link rel="preload" href="/blog/assets/js/23.3988c4a2.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.a9d15544.js"><link rel="prefetch" href="/blog/assets/js/100.52ed5582.js"><link rel="prefetch" href="/blog/assets/js/11.2b1b3707.js"><link rel="prefetch" href="/blog/assets/js/12.bdb1e59e.js"><link rel="prefetch" href="/blog/assets/js/13.f22b5565.js"><link rel="prefetch" href="/blog/assets/js/14.9de8da8f.js"><link rel="prefetch" href="/blog/assets/js/15.d0dcb8b1.js"><link rel="prefetch" href="/blog/assets/js/16.2f7d7cc0.js"><link rel="prefetch" href="/blog/assets/js/17.3eb60e6b.js"><link rel="prefetch" href="/blog/assets/js/18.873f5fc1.js"><link rel="prefetch" href="/blog/assets/js/19.c5056488.js"><link rel="prefetch" href="/blog/assets/js/20.e8ae9a39.js"><link rel="prefetch" href="/blog/assets/js/21.58cc81e9.js"><link rel="prefetch" href="/blog/assets/js/22.616dd932.js"><link rel="prefetch" href="/blog/assets/js/24.30eae990.js"><link rel="prefetch" href="/blog/assets/js/25.054a22c3.js"><link rel="prefetch" href="/blog/assets/js/26.f62d77ff.js"><link rel="prefetch" href="/blog/assets/js/27.5a7f606c.js"><link rel="prefetch" href="/blog/assets/js/28.855191fa.js"><link rel="prefetch" href="/blog/assets/js/29.c10a5b9c.js"><link rel="prefetch" href="/blog/assets/js/30.90f8bc11.js"><link rel="prefetch" href="/blog/assets/js/31.a2a4b158.js"><link rel="prefetch" href="/blog/assets/js/32.94467faf.js"><link rel="prefetch" href="/blog/assets/js/33.46a7618c.js"><link rel="prefetch" href="/blog/assets/js/34.2f8e431f.js"><link rel="prefetch" href="/blog/assets/js/35.de92d414.js"><link rel="prefetch" href="/blog/assets/js/36.0f1e33f2.js"><link rel="prefetch" href="/blog/assets/js/37.704c88fd.js"><link rel="prefetch" href="/blog/assets/js/38.5fcce310.js"><link rel="prefetch" href="/blog/assets/js/39.eb5f78b7.js"><link rel="prefetch" href="/blog/assets/js/4.e3247416.js"><link rel="prefetch" href="/blog/assets/js/40.3776a822.js"><link rel="prefetch" href="/blog/assets/js/41.bf4cdd88.js"><link rel="prefetch" href="/blog/assets/js/42.4c085ac0.js"><link rel="prefetch" href="/blog/assets/js/43.b7ef5577.js"><link rel="prefetch" href="/blog/assets/js/44.754b1bc9.js"><link rel="prefetch" href="/blog/assets/js/45.341273a8.js"><link rel="prefetch" href="/blog/assets/js/46.37506398.js"><link rel="prefetch" href="/blog/assets/js/47.f777c0cf.js"><link rel="prefetch" href="/blog/assets/js/48.5a34ff4e.js"><link rel="prefetch" href="/blog/assets/js/49.7b1241e4.js"><link rel="prefetch" href="/blog/assets/js/5.6d2ab4af.js"><link rel="prefetch" href="/blog/assets/js/50.16693f32.js"><link rel="prefetch" href="/blog/assets/js/51.b6a3f265.js"><link rel="prefetch" href="/blog/assets/js/52.6591bc6c.js"><link rel="prefetch" href="/blog/assets/js/53.57270a88.js"><link rel="prefetch" href="/blog/assets/js/54.068dbbe0.js"><link rel="prefetch" href="/blog/assets/js/55.6219da16.js"><link rel="prefetch" href="/blog/assets/js/56.9ebd78de.js"><link rel="prefetch" href="/blog/assets/js/57.f0ac33b8.js"><link rel="prefetch" href="/blog/assets/js/58.4c840d5e.js"><link rel="prefetch" href="/blog/assets/js/59.1a39ef89.js"><link rel="prefetch" href="/blog/assets/js/6.b7fbc8ce.js"><link rel="prefetch" href="/blog/assets/js/60.702a379f.js"><link rel="prefetch" href="/blog/assets/js/61.e47c18f8.js"><link rel="prefetch" href="/blog/assets/js/62.a0559b0b.js"><link rel="prefetch" href="/blog/assets/js/63.0b126dc0.js"><link rel="prefetch" href="/blog/assets/js/64.31ae45ee.js"><link rel="prefetch" href="/blog/assets/js/65.c259a8fc.js"><link rel="prefetch" href="/blog/assets/js/66.4ed84f26.js"><link rel="prefetch" href="/blog/assets/js/67.e01763b8.js"><link rel="prefetch" href="/blog/assets/js/68.eba26eb5.js"><link rel="prefetch" href="/blog/assets/js/69.961f5b63.js"><link rel="prefetch" href="/blog/assets/js/7.3b6f6c74.js"><link rel="prefetch" href="/blog/assets/js/70.27568cc8.js"><link rel="prefetch" href="/blog/assets/js/71.ca88e180.js"><link rel="prefetch" href="/blog/assets/js/72.f75b8b7c.js"><link rel="prefetch" href="/blog/assets/js/73.8e1146b9.js"><link rel="prefetch" href="/blog/assets/js/74.45b83fe7.js"><link rel="prefetch" href="/blog/assets/js/75.ed8b78da.js"><link rel="prefetch" href="/blog/assets/js/76.8361196e.js"><link rel="prefetch" href="/blog/assets/js/77.c2d70e59.js"><link rel="prefetch" href="/blog/assets/js/78.57d8f9cb.js"><link rel="prefetch" href="/blog/assets/js/79.9381f656.js"><link rel="prefetch" href="/blog/assets/js/8.99008766.js"><link rel="prefetch" href="/blog/assets/js/80.1935fc35.js"><link rel="prefetch" href="/blog/assets/js/81.1b6cbbee.js"><link rel="prefetch" href="/blog/assets/js/82.f24a8ccd.js"><link rel="prefetch" href="/blog/assets/js/83.7a128231.js"><link rel="prefetch" href="/blog/assets/js/84.239c5b05.js"><link rel="prefetch" href="/blog/assets/js/85.c55b61c7.js"><link rel="prefetch" href="/blog/assets/js/86.8c26f224.js"><link rel="prefetch" href="/blog/assets/js/87.04950bab.js"><link rel="prefetch" href="/blog/assets/js/88.0c8f2904.js"><link rel="prefetch" href="/blog/assets/js/89.4a5d97f6.js"><link rel="prefetch" href="/blog/assets/js/9.1bec759d.js"><link rel="prefetch" href="/blog/assets/js/90.589c3a4d.js"><link rel="prefetch" href="/blog/assets/js/91.85211c62.js"><link rel="prefetch" href="/blog/assets/js/92.55b5b980.js"><link rel="prefetch" href="/blog/assets/js/93.d94cc1ed.js"><link rel="prefetch" href="/blog/assets/js/94.b398255a.js"><link rel="prefetch" href="/blog/assets/js/95.35fd947d.js"><link rel="prefetch" href="/blog/assets/js/96.43c38934.js"><link rel="prefetch" href="/blog/assets/js/97.9267ef1b.js"><link rel="prefetch" href="/blog/assets/js/98.1f73f0d3.js"><link rel="prefetch" href="/blog/assets/js/99.f05bf137.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.1722f3e3.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/photo_nobg.png" alt="小帅の技术博客" class="logo"> <span class="site-name can-hide">小帅の技术博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blog/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/pages/be6faa/" class="nav-link">基础</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/33f292/" class="nav-link">框架</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/c8aad6/" class="nav-link">进阶</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/2833ad/" class="nav-link">工程化</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="全栈" class="dropdown-title"><a href="/blog/fullstack/" class="link-title">全栈</a> <span class="title" style="display:none;">全栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/pages/5fe09e/" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/337720/" class="nav-link">脚本</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/131a7a/" class="nav-link">拓展</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/04df1e/" class="nav-link">技术</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/5cd35f/" class="nav-link">服务器</a></li></ul></div></div><div class="nav-item"><a href="/blog/life/" class="nav-link">程序猿</a></div><div class="nav-item"><a href="/blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/blog/friends/" class="nav-link">友链</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/JS-banana/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/JS-banana/images/vuepress/photo.jpg"> <div class="blogger-info"><h3>前端小帅</h3> <span>学而不思则罔，思而不学则殆</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/blog/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/pages/be6faa/" class="nav-link">基础</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/33f292/" class="nav-link">框架</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/c8aad6/" class="nav-link">进阶</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/2833ad/" class="nav-link">工程化</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="全栈" class="dropdown-title"><a href="/blog/fullstack/" class="link-title">全栈</a> <span class="title" style="display:none;">全栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/pages/5fe09e/" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/337720/" class="nav-link">脚本</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/131a7a/" class="nav-link">拓展</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/04df1e/" class="nav-link">技术</a></li><li class="dropdown-item"><!----> <a href="/blog/pages/5cd35f/" class="nav-link">服务器</a></li></ul></div></div><div class="nav-item"><a href="/blog/life/" class="nav-link">程序猿</a></div><div class="nav-item"><a href="/blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/blog/friends/" class="nav-link">友链</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/JS-banana/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>工程化</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/c3ea73/" aria-current="page" class="active sidebar-link">搭建一个标准化react+ts项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#效果图" class="sidebar-link">效果图</a></li><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#背景" class="sidebar-link">背景</a></li><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#开搞" class="sidebar-link">开搞</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#目标" class="sidebar-link">目标</a></li><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#依赖" class="sidebar-link">依赖</a></li><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#目录规划" class="sidebar-link">目录规划</a></li><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#es6-、jsx-、typescript-支持" class="sidebar-link">ES6+、JSX 、TypeScript 支持</a></li><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#antd按需加载、主题定制" class="sidebar-link">Antd按需加载、主题定制</a></li><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#工程化规范配置" class="sidebar-link">工程化规范配置</a></li><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#hmr-热更新配置" class="sidebar-link">HMR 热更新配置</a></li><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#生产环境打包压缩、chunk拆分" class="sidebar-link">生产环境打包压缩、chunk拆分</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header"><a href="/blog/pages/c3ea73/#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/blog/pages/e6f55f/" class="sidebar-link">Webpack项目优化系列一</a></li><li><a href="/blog/pages/282d35/" class="sidebar-link">【rollup】Svelte框架初尝试</a></li><li><a href="/blog/pages/b849f8/" class="sidebar-link">【rollup】构建发布一个npm包</a></li><li><a href="/blog/pages/428be4/" class="sidebar-link">【vite】构建标准化react应用</a></li><li><a href="/blog/pages/2833ad/" class="sidebar-link">【vite】构建vue3+ts应用</a></li><li><a href="/blog/pages/f120e1/" class="sidebar-link">【前端组件化】系列第一篇</a></li><li><a href="/blog/pages/eb2149/" class="sidebar-link">【前端组件化】系列第二篇</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>精进</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-583ea4e9><div class="articleInfo" data-v-583ea4e9><ul class="breadcrumbs" data-v-583ea4e9><li data-v-583ea4e9><a href="/blog/" title="首页" class="iconfont icon-home router-link-active" data-v-583ea4e9></a></li> <li data-v-583ea4e9><a href="/blog/frontend" title="前端-目录页" data-v-583ea4e9>前端</a></li> <li data-v-583ea4e9><a href="/blog/frontend/#工程化" title="前端#工程化" data-v-583ea4e9>工程化</a></li> <!----></ul> <div class="info" data-v-583ea4e9><div title="作者" class="author iconfont icon-touxiang" data-v-583ea4e9><a href="https://github.com/JS-banana" target="_blank" title="作者" class="beLink" data-v-583ea4e9>sunss</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-583ea4e9><a href="javascript:;" data-v-583ea4e9>2021-08-18</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">
          Webpack+React+TypeScript构建一个标准化应用
        </h1> <!----> <div class="theme-vdoing-content content__default"><p>项目及工程化配置以及主要功能配置、规范化管理和使用细节应该都没啥问题了。</p> <p>后面若发现构建及配置问题、以及可优化的细节部分、包括功能的进一步迭代也会使项目不断更新完善的~</p> <p>目前主要是做了规范及工程化的配置，后期打算开发并开源一个<code>react-admin</code>标准后台管理系统，用于实践并巩固一些前端技术框架与组件开发等。</p> <p><img src="https://cdn.jsdelivr.net/gh/JS-banana/images/emoji/2.jpg" alt="hello"></p> <h2 id="效果图"><a href="#效果图" class="header-anchor">#</a> 效果图</h2> <p>最简单的demo运行效果</p> <p><img src="https://cdn.jsdelivr.net/gh/JS-banana/images/vuepress/webpack-react-ts-1.gif" alt="最终效果"></p> <h2 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h2> <p>为什么要自己搭建一个<code>webpack-react-ts</code>的标准化项目？</p> <h4 id="原因之一"><a href="#原因之一" class="header-anchor">#</a> 原因之一</h4> <p>在很早之前的公司时，项目实际开发过程中产生过这种需求：</p> <ol><li><p>每次开发新项目时希望有个完整功能、配置好用、标准化规范的模板可以快速使用</p></li> <li><p>完整功能：如果是使用<code>create-react-app</code>创建项目，属于最简易版的一个实现了，各种<code>loader</code>、<code>plugin</code>、<code>babel</code>等<code>webpack</code>配置缺失，作为现代前端开发不可或缺的构建工具，其对项目的大部分功能支持是必须的。</p></li> <li><p>配置好用：<code>webpack</code>对各种插件的配置与集成，基本路由模块、页面模块、组件模块、store状态管理模块等基本常用功能的简要示例及demo，要有一定的覆盖率。</p></li> <li><p>标准规范：这个可能是工程化构建最重要的部分之一了，<code>eslint</code>、<code>prettier</code>、<code>stylelint</code>、<code>commitlint</code>等lint规范和格式化以及test测试，还有目录结构规范、命名规范等。对于规范化的意义其重要性不言而喻，可读性、可维护性、开发效率、bug率等可见一斑</p></li></ol> <h4 id="原因之二"><a href="#原因之二" class="header-anchor">#</a> 原因之二</h4> <p>当然网上肯定有很多优秀的轮子供我们使用，他们有的功能更全、有的细节更好，有的示例更完整。这都是我们学习的榜样，对于其源码阅读和学习也是极为有益的，不过，始终避免不了一点，看的再多都不如自己实践来的有效果，所以，这也是我考虑的原因之一，为了自己实践和操作来提升技术熟练度。</p> <h4 id="原因三"><a href="#原因三" class="header-anchor">#</a> 原因三</h4> <p>这也是源于在实际开发过程中的需求，即，不同技术平台及场景适应于不同的技术框架和路线。</p> <p>举个栗子，</p> <ol><li><p>管理后台系统：这个多适用于PC端，使用单页面应用开发，主流技术框架 <code>React</code>、<code>Vue</code>、<code>Angular</code>等</p></li> <li><p>网站类：这类项目一般追求美观和SEO搜索的重要性，而不会像管理后台系统一样有很复杂的逻辑，更多的是一些动效及UI交互，因为<code>SPA</code>的首屏加载及<code>SEO</code>问题，社区有成熟的服务端渲染<code>SSR</code>方案：<code>next</code>、<code>nuxt</code>，分别对应<code>react</code>和<code>vue</code>技术栈，对于习惯了单页面开发的同学还是很友好的。</p></li> <li><p>移动端：轻量化、轻量化、轻量化，重要的事情说三遍。手机端流量第一，项目越小越轻量性能越好加载也就越快，对于用户体验也就越好。比较手机端一般对应的都是C端用户，不像管理后台主要是给B端及公司内部使用。用户体验要求是完全不一样的。如，移动端版<code>react</code>——<code>preact</code>，又如<code>svelte</code>、<code>solidjs</code>等无虚拟<code>DOM</code>框架，减少大量运行时代码。</p></li></ol> <p>所以，我认为每个技术都有其对应的优势和适合的场景，单一框架并不是完全适合梭哈到底的。</p> <p>这也是我开发的<code>node-cli</code>自动化初始化项目的一个框架模板之一。</p> <p>接下来对各个不同技术方案及最佳实践也会考虑构建具有实战意义的模板以供使用</p> <p>主要方向大概分为：<code>webpack+react/vue+typescript</code>等<code>webpack</code>方向、<code>vite+react/vue+typescript</code>等<code>vite</code>方向、<code>nuxt/next/egg/koa</code>等服务端渲染<code>SSR</code>方向、<code>svelte/solidjs</code>等无虚拟<code>DOM</code>的轻量级框架方向、<code>rollup/parcel</code>等构建工具方向、<code>esbuild/swc</code>等新型编译器与构建工具的结合使用等、以及小程序/跨平台等。</p> <p>有点飘啊，想法还挺多的🤓~</p> <h2 id="开搞"><a href="#开搞" class="header-anchor">#</a> 开搞</h2> <h3 id="目标"><a href="#目标" class="header-anchor">#</a> 目标</h3> <ul><li>技术栈：<code>Webpack5.x</code> + <code>React17.x</code> + <code>Antd4.x</code> + <code>TypeScript4.x</code> + <code>Less</code></li> <li>工程规范/格式化：<code>Eslint</code> + <code>Stylelint</code> + <code>Prettier</code> + <code>Commitlint</code></li> <li><code>ES6</code>、<code>JSX</code>，<code>Babel</code>支持</li> <li>支持<code>HMR</code>热更新</li> <li>支持低版本浏览器兼容</li> <li>支持<code>Antd</code>按需加载、自定义主题、<code>css module</code></li> <li>支持<code>js</code>、<code>css</code>压缩、<code>chunk</code>拆分、<code>Gzip</code></li></ul> <h3 id="依赖"><a href="#依赖" class="header-anchor">#</a> 依赖</h3> <p><code>dependencies</code></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;antd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.16.10&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 懂得都懂</span>
  <span class="token property">&quot;axios&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.21.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 懂得都懂</span>
  <span class="token property">&quot;clsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.1.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 条件处理 React className 类名</span>
  <span class="token property">&quot;core-js&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 现代JS语法polyfills库，用于兼容浏览器及ES6、ES7语法</span>
  <span class="token property">&quot;dayjs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.10.6&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 日期处理库，比moment小很多，只有几kb</span>
  <span class="token property">&quot;history&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// H5 history库</span>
  <span class="token property">&quot;lodash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.21&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 非常全面的方法库</span>
  <span class="token property">&quot;react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^17.0.2&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 懂得都懂</span>
  <span class="token property">&quot;react-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^17.0.2&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 懂得都懂</span>
  <span class="token property">&quot;react-helmet-async&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.9&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 在react中优雅的添加 HTML header 各种属性</span>
  <span class="token property">&quot;react-router-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.2.0&quot;</span> <span class="token comment">// react 路由库，经典 react 三件套</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><code>devDependencies</code></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// babel</span>
  <span class="token property">&quot;@babel/cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.14.8&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 可以让babel以cli的方式执行  如：babel src --out-dir dist --watch</span>
  <span class="token property">&quot;@babel/core&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.15.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// babel 核心包</span>
  <span class="token property">&quot;@babel/plugin-proposal-class-properties&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.14.5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// @babel/preset-env 插件已包含</span>
  <span class="token property">&quot;@babel/plugin-syntax-dynamic-import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.3&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 动态导入、懒加载</span>
  <span class="token property">&quot;@babel/plugin-transform-modules-commonjs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.15.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 转化成CommonJS 规范的代码</span>
  <span class="token property">&quot;@babel/plugin-transform-react-constant-elements&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.14.5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// React 常量元素转换器 : 它会寻找不随 props 改变的所有静态元素，并将它们从渲染方法(或者无状态函数式组件)中抽离出来，以避免多余地调用 createElement</span>
  <span class="token property">&quot;@babel/plugin-transform-react-inline-elements&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.14.5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// React 行内元素转换器 : 它会将所有 JSX 声明(或 者 createElement 调用)替换成优化过的版本，以便代码可以更快执行</span>
  <span class="token property">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.15.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 抽离提取 Babel的注入代码，防止重复加载，减小体积</span>
  <span class="token property">&quot;@babel/preset-env&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.15.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 提供的预设，允许我们使用最新的JavaScript</span>
  <span class="token property">&quot;@babel/preset-react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.14.5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// react 支持</span>
  <span class="token property">&quot;@babel/preset-typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.15.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// typescript 支持</span>
  <span class="token property">&quot;babel-plugin-dynamic-import-node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.3.3&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 为node提供加载转换 import =&gt; require</span>
  <span class="token property">&quot;babel-plugin-import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.13.3&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 按需引入、加载</span>
  <span class="token property">&quot;babel-plugin-lodash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.4&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 按需加载</span>
  <span class="token property">&quot;babel-plugin-transform-react-remove-prop-types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.4.24&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 从生产生成中删除不必要的类型</span>

  <span class="token comment">// commitlint 是 git commit 执行规则相关插件</span>
  <span class="token property">&quot;@commitlint/cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^13.1.0&quot;</span><span class="token punctuation">,</span> 
  <span class="token property">&quot;@commitlint/config-conventional&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^13.1.0&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">// react hot 配合webpack实现热更新插件</span>
  <span class="token property">&quot;react-refresh&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.10.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@pmmmwh/react-refresh-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.4.3&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">// @types 开头的是对应包的 TypeScript 类型声明</span>
  <span class="token property">&quot;@types/enzyme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.10.9&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/enzyme-adapter-react-16&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.6&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/enzyme-to-json&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.5.4&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/react-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^17.0.9&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/react-helmet&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.1.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/react-router-dom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.1.8&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;@types/webpack-env&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.16.2&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">// enzyme 测试库</span>
  <span class="token property">&quot;enzyme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.11.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;enzyme-adapter-react-16&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.15.6&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;enzyme-to-json&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.6.2&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">// eslint</span>
  <span class="token property">&quot;eslint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.32.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;eslint-config-airbnb-typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^12.3.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// airbnb 规范</span>
  <span class="token property">&quot;eslint-config-prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.3.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 关闭所有不必要或可能与[Prettier]冲突的规则。</span>
  <span class="token property">&quot;eslint-import-resolver-typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.4.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 添加 ts 语法支持  eslint-plugin-import</span>
  <span class="token property">&quot;eslint-import-resolver-webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.13.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 支持 eslint-plugin-import 读写模块解析</span>
  <span class="token property">&quot;eslint-plugin-import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.23.4&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ES6+  import/export 语法支持</span>
  <span class="token property">&quot;eslint-plugin-jsx-a11y&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.4.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// JSX元素的可访问性规则的静态AST检查器 </span>
  <span class="token property">&quot;eslint-plugin-prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.4.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 以 eslint的规则运行 prettier 格式化</span>
  <span class="token property">&quot;eslint-plugin-react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.24.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// react 相关规则</span>
  <span class="token property">&quot;eslint-plugin-react-hooks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.2.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// react-hooks 相关规则</span>
  <span class="token property">&quot;eslint-plugin-redux-saga&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.2.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// redux-saga 相关规则</span>
  <span class="token property">&quot;@typescript-eslint/eslint-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.29.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 使 eslint 支持 typescript，.eslintrc.js 的 plugins 参数</span>
  <span class="token property">&quot;@typescript-eslint/parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.29.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 使 eslint 支持 typescript ，.eslintrc.js 的 parser 参数</span>

  <span class="token comment">// webpack</span>
  <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.49.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;webpack-bundle-analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.4.2&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 包依赖分析 可视化</span>
  <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.7.2&quot;</span><span class="token punctuation">,</span> <span class="token comment">// cli</span>
  <span class="token property">&quot;webpack-dev-middleware&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 中间件，可配合 express以服务的方式开发使用</span>
  <span class="token property">&quot;webpack-dev-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.11.2&quot;</span><span class="token punctuation">,</span> <span class="token comment">// dev-server</span>
  <span class="token property">&quot;webpack-hot-middleware&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.25.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 热加载</span>
  <span class="token property">&quot;webpack-pwa-manifest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.3.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 生成 pwa 相关配置</span>

  <span class="token comment">// webpack loader：解析对应文件</span>
  <span class="token property">&quot;babel-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.2.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;style-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.2.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 添加 css 到 HTML</span>
  <span class="token property">&quot;css-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.2.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// css加载器 处理 @import/url()</span>
  <span class="token property">&quot;postcss-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.1.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 处理 css</span>
  <span class="token property">&quot;less-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^10.0.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// less =&gt; css</span>
  <span class="token property">&quot;file-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.2.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 通过 import/require() 加载的图片等解析为 url</span>
  <span class="token property">&quot;html-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.1.2&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 压缩HTML</span>
  <span class="token property">&quot;svg-url-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.1.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;url-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.1.1&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">// webpack plugin</span>
  <span class="token property">&quot;html-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.3.2&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 简化HTML文件的创建 ，配合webpack包含hash的bundle使用</span>
  <span class="token property">&quot;mini-css-extract-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.2.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// css 压缩</span>
  <span class="token property">&quot;terser-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.1.4&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 使用 terser 压缩 js （terser 是一个管理和压缩 ES6+ 的工具）</span>
  <span class="token property">&quot;clean-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.0-alpha.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 用于删除/清理生成的 build 文件 </span>
  <span class="token property">&quot;compression-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.0.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// Gzip压缩</span>

  <span class="token comment">// prettier 格式化</span>
  <span class="token property">&quot;prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.3.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pretty-quick&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.1.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 在更改的文件上运行 prettier</span>

  <span class="token comment">// stylelint css样式规范</span>
  <span class="token property">&quot;stylelint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^13.13.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stylelint-config-recess-order&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.4.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 按照session和Bootstrap的方式对CSS属性进行排序。</span>
  <span class="token property">&quot;stylelint-config-standard&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^22.0.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 基本规范</span>

  <span class="token comment">// 工具</span>
  <span class="token property">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.0.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 自动配置 Git hooks 钩子</span>
  <span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^11.1.2&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 对暂存的git文件运行linter</span>
  <span class="token property">&quot;rimraf&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.2&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 删除cli，兼容不同平台 </span>
  <span class="token property">&quot;yargs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^17.1.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 读取命令参数</span>

  <span class="token comment">// 其他</span>
  <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.3.5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;less&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.1.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// less 的解析库</span>
  <span class="token property">&quot;postcss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.3.6&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 专门处理样式的工具</span>
  <span class="token property">&quot;postcss-nested&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.6&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 解析处理嵌套规则</span>
  <span class="token property">&quot;autoprefixer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^10.3.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 自动生成各浏览器前缀 postcss 的一个插件</span>
  <span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^12.0.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 本地启动一个服务，可以查看静态文件</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br></div></div><h3 id="目录规划"><a href="#目录规划" class="header-anchor">#</a> 目录规划</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>├── dist                                <span class="token comment">// 默认的 build 输出目录</span>
├── <span class="token punctuation">.</span>husky                              <span class="token comment">// pre-commit hook</span>
├── config                              <span class="token comment">// 全局配置文件及webpack配置文件</span>
├── <span class="token keyword">public</span>                              <span class="token comment">// 静态文件</span>
├── test                                <span class="token comment">// 测试目录</span>
└── src                                 <span class="token comment">// 源码目录</span>
    ├── assets                          <span class="token comment">// 公共的文件（如image、css、font等）</span>
    ├── components                      <span class="token comment">// 项目组件</span>
    ├── constants                       <span class="token comment">// 常量/接口地址等</span>
    ├── layout                          <span class="token comment">// 全局布局</span>
    ├── routes                          <span class="token comment">// 路由</span>
    ├── store                           <span class="token comment">// 状态管理器</span>
    ├── utils                           <span class="token comment">// 工具库</span>
    ├── pages                           <span class="token comment">// 页面模块</span>
        ├── Home                        <span class="token comment">// Home模块，建议组件统一大写开头</span>
        ├── <span class="token operator">...</span>
    ├── App<span class="token punctuation">.</span>tsx                         <span class="token comment">// react顶层文件</span>
    ├── main<span class="token punctuation">.</span>ts                         <span class="token comment">// 项目入口文件</span>
    ├── typing<span class="token punctuation">.</span>d<span class="token punctuation">.</span>ts                     <span class="token comment">// ts类型文件</span>
├── <span class="token punctuation">.</span>editorconfig                       <span class="token comment">// IDE格式规范</span>
├── <span class="token punctuation">.</span>eslintignore                       <span class="token comment">// eslint忽略</span>
├── <span class="token punctuation">.</span>eslintrc                           <span class="token comment">// eslint配置文件</span>
├── <span class="token punctuation">.</span>gitignore                          <span class="token comment">// git忽略</span>
├── <span class="token punctuation">.</span>npmrc                              <span class="token comment">// npm配置文件</span>
├── <span class="token punctuation">.</span>prettierignore                     <span class="token comment">// prettierc忽略</span>
├── <span class="token punctuation">.</span>prettierrc                         <span class="token comment">// prettierc配置文件</span>
├── <span class="token punctuation">.</span>stylelintignore                    <span class="token comment">// stylelint忽略</span>
├── <span class="token punctuation">.</span>stylelintrc                        <span class="token comment">// stylelint配置文件</span>
├── babel<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js                     <span class="token comment">// babel配置文件</span>
├── commitlint<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js                <span class="token comment">// commit配置文件</span>
├── <span class="token constant">LICENSE</span><span class="token punctuation">.</span>md                          <span class="token comment">// LICENSE</span>
├── <span class="token keyword">package</span><span class="token punctuation">.</span>json                        <span class="token comment">// package</span>
├── postcss<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js                   <span class="token comment">// postcss</span>
├── <span class="token constant">README</span><span class="token punctuation">.</span>md                           <span class="token comment">// README</span>
├── setupEnzyme<span class="token punctuation">.</span>ts                      <span class="token comment">// Enzyme测试配置文件</span>
├── tsconfig<span class="token punctuation">.</span>json                       <span class="token comment">// typescript配置文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>使用 <code>npx create-react-app xxx --typescript</code> 可以快速创建 TS 项目，我们可以基于创建完的项目再进行一些自定义配置。</p> <h3 id="es6-、jsx-、typescript-支持"><a href="#es6-、jsx-、typescript-支持" class="header-anchor">#</a> ES6+、JSX 、TypeScript 支持</h3> <p>这里我们使用 <code>babel</code> 处理，当然对于 <code>TypeScript</code> 也可以使用 <code>ts-loader</code> 解析，这里就不做演示了，网上也有很多对比测试</p> <h4 id="javascript-语法特性支持"><a href="#javascript-语法特性支持" class="header-anchor">#</a> JavaScript 语法特性支持</h4> <ul><li>首先安装 <code>babel</code> 相关依赖： <code>yarn add @babel/preset-env -D</code></li> <li>然后在 <code>.babelrc.js</code> 中添加预设</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// 这里可以配置相关浏览器兼容规则，暂时我们先不管</span>
        <span class="token comment">// corejs: 3, </span>
        <span class="token comment">// debug: true,</span>
        <span class="token comment">// useBuiltIns: 'usage', // 开启浏览器兼容 polyfills，会根据browserslist配置，引入需要的库，需要安装对应版本的 core-js@3</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="react的jsx语法支持"><a href="#react的jsx语法支持" class="header-anchor">#</a> React的JSX语法支持</h4> <ul><li>安装依赖：<code>yarn add @babel/preset-react -D</code></li> <li>然后在 <code>.babelrc.js</code> 中添加预设</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span> <span class="token string">'@babel/preset-react'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="typescript-支持"><a href="#typescript-支持" class="header-anchor">#</a> TypeScript 支持</h4> <ul><li>安装依赖：<code>yarn add typescript @babel/preset-typescript -D</code></li> <li>然后在 <code>.babelrc.js</code> 中添加预设</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span> <span class="token string">'@babel/preset-react'</span><span class="token punctuation">,</span> <span class="token string">'@babel/preset-typescript'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>接下来在 <code>webpack</code> 中配置 <code>loader</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// .ts .tsx</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(ts|tsx)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="antd按需加载、主题定制"><a href="#antd按需加载、主题定制" class="header-anchor">#</a> Antd按需加载、主题定制</h3> <p><code>antd</code>作为<code>react</code>的好基友，在国内后台系统开发中几乎快成为标配了，我们以<code>antd</code>为例配置按需加载和主题定制化</p> <h4 id="babel配置按需加载"><a href="#babel配置按需加载" class="header-anchor">#</a> babel配置按需加载</h4> <ul><li>安装antd：<code>yarn add antd</code></li> <li>安装依赖：<code>yarn add babel-plugin-import -D</code></li> <li>然后在 <code>.babelrc.js</code> 中配置<code>plugins</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">'import'</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">libraryName</span><span class="token operator">:</span> <span class="token string">'antd'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">libraryDirectory</span><span class="token operator">:</span> <span class="token string">'es'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// or 'css'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">'antd'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="webpack-loader配置antd主题"><a href="#webpack-loader配置antd主题" class="header-anchor">#</a> webpack/loader配置antd主题</h4> <blockquote><p>css-loader、style-loader 也是必须的</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// 处理 .css</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 处理 .less</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
          <span class="token comment">// less-loader</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">lessOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 替换antd的变量，去掉 @ 符号即可</span>
                <span class="token comment">// https://ant.design/docs/react/customize-theme-cn</span>
                <span class="token literal-property property">modifyVars</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token string-property property">'primary-color'</span><span class="token operator">:</span> <span class="token string">'#1DA57A'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">javascriptEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 支持js</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="工程化规范配置"><a href="#工程化规范配置" class="header-anchor">#</a> 工程化规范配置</h3> <h4 id="eslint代码检查"><a href="#eslint代码检查" class="header-anchor">#</a> Eslint代码检查</h4> <ul><li><p>安装ts解析器：<code>yarn add @typescript-eslint/parser -D</code></p></li> <li><p>安装相关拓展：<code>yarn add eslint-config-airbnb-typescript eslint-plugin-prettier -D</code></p></li> <li><p>安装相关插件：<code>yarn add eslint-plugin-react eslint-plugin-react-hooks eslint-plugin-jsx-a11y @typescript-eslint/eslint-plugin -D</code></p></li> <li><p>添加 <code>.eslintrc.js</code></p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token string">'@typescript-eslint/parser'</span><span class="token punctuation">,</span>
  <span class="token comment">// 使用 airbnb 拓展插件规范相关库</span>
  <span class="token comment">// prettier 已内置了许多相关插件</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'airbnb-typescript'</span><span class="token punctuation">,</span> <span class="token string">'prettier'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 拓展和支持相关能力的插件库</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'prettier'</span><span class="token punctuation">,</span> <span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-hooks'</span><span class="token punctuation">,</span> <span class="token string">'jsx-a11y'</span><span class="token punctuation">,</span> <span class="token string">'@typescript-eslint'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>ES6+规范 import/export 导入导出配置：<code>yarn add eslint eslint-plugin-import eslint-import-resolver-typescript eslint-import-resolver-webpack -D</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token string">'@typescript-eslint/parser'</span><span class="token punctuation">,</span>
  <span class="token comment">// 使用 airbnb 拓展插件规范相关库</span>
  <span class="token comment">// prettier 已内置了许多相关插件</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'airbnb-typescript'</span><span class="token punctuation">,</span> <span class="token string">'prettier'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 拓展和支持相关能力的插件库</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'prettier'</span><span class="token punctuation">,</span> <span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-hooks'</span><span class="token punctuation">,</span> <span class="token string">'jsx-a11y'</span><span class="token punctuation">,</span> <span class="token string">'@typescript-eslint'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">settings</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'import/parsers'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'@typescript-eslint/parser'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.ts'</span><span class="token punctuation">,</span> <span class="token string">'.tsx'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">'import/resolver'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">webpack</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token string">'./config/webpack.base.js'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">typescript</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">alwaysTryTypes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// always try to resolve types under `&lt;root&gt;@types` directory even it doesn't contain any source code, like `@types/unist`</span>
        <span class="token literal-property property">directory</span><span class="token operator">:</span> <span class="token string">'./tsconfig.json'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">'import/ignore'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'types'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Weirdly eslint cannot resolve exports in types folder (try removing this later)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="prettier-代码格式化"><a href="#prettier-代码格式化" class="header-anchor">#</a> Prettier 代码格式化</h4> <ul><li>Eslint配置中我们已经添加<code>prettier</code>插件，支持以<code>eslint</code>的规范进行格式化，并提供保存时存在冲突时的解决方案</li> <li>添加 <code>.prettierrc</code>，这里再定义下格式化基本风格</li></ul> <p><code>yarn add prettier -D</code></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;printWidth&quot;</span><span class="token builtin class-name">:</span> <span class="token number">100</span>, 
  <span class="token string">&quot;tabWidth&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>,
  <span class="token string">&quot;useTabs&quot;</span><span class="token builtin class-name">:</span> false,
  <span class="token string">&quot;semi&quot;</span><span class="token builtin class-name">:</span> true,
  <span class="token string">&quot;singleQuote&quot;</span><span class="token builtin class-name">:</span> true,
  <span class="token string">&quot;trailingComma&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;all&quot;</span>,
  <span class="token string">&quot;arrowParens&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;avoid&quot;</span>,
  <span class="token string">&quot;endOfLine&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;auto&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="stylelint-样式规范"><a href="#stylelint-样式规范" class="header-anchor">#</a> Stylelint 样式规范</h4> <ul><li>安装依赖：<code>yarn add stylelint stylelint-config-recess-order stylelint-config-standard -D</code></li> <li>添加<code>.stylelintrc.js</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'stylelint-config-standard'</span><span class="token punctuation">,</span> <span class="token string">'stylelint-config-recess-order'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>针对以上代码规范检查，我们也应该添加对应 <strong>ignore</strong> 文件以忽略非必要的检查文件，以优化性能</p> <p>如：<code>.eslintignore</code></p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>node_modules
dist
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="commitlint-代码提交规范"><a href="#commitlint-代码提交规范" class="header-anchor">#</a> Commitlint 代码提交规范</h4> <p><code>git hook</code> 钩子的实现，这里我们使用 <code>husky</code> + <code>lint-staged</code> 方案</p> <ul><li>安装依赖：<code>yarn add husky lint-staged -D</code></li></ul> <p><code>git commit</code> 规范，这里我们使用 <code>@commitlint/config-conventional</code></p> <ul><li>安装依赖：<code>yarn add &quot;@commitlint/cli @commitlint/config-conventional -D</code></li></ul> <blockquote><p>这里也可以使用<code>pretty-quick</code>代替<code>prettier</code>格式化：<code>yarn add pretty-quick -D</code>，使得<code>prettier</code>格式化更简单易用</p></blockquote> <ul><li>根目录下创建 <code>.husky</code> 文件夹与<code>commitlint.config.js</code>文件，并在<code>.husky</code> 文件夹下添加 <code>precommit</code>、<code>commit-msg</code>、以及<code>.gitignore</code></li></ul> <p><code>commitlint.config.js</code> 用于配置 <code>commitlint</code> 相关规范</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// git commit 规范</span>
<span class="token comment">// &lt;类型&gt;[可选的作用域]: &lt;描述&gt;</span>

<span class="token comment">// # 主要type</span>
<span class="token comment">// feat:     增加新功能</span>
<span class="token comment">// fix:      修复bug</span>

<span class="token comment">// # 特殊type</span>
<span class="token comment">// docs:     只改动了文档相关的内容</span>
<span class="token comment">// style:    不影响代码含义的改动，例如去掉空格、改变缩进、增删分号</span>
<span class="token comment">// build:    构造工具的或者外部依赖的改动，例如webpack，npm</span>
<span class="token comment">// refactor: 代码重构时使用</span>
<span class="token comment">// revert:   执行git revert打印的message</span>

<span class="token comment">// # 暂不使用type</span>
<span class="token comment">// test:     添加测试或者修改现有测试</span>
<span class="token comment">// perf:     提高性能的改动</span>
<span class="token comment">// ci:       与CI（持续集成服务）有关的改动</span>
<span class="token comment">// chore:    不修改src或者test的其余修改，例如构建过程或辅助工具的变动</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@commitlint/config-conventional'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// rules: [] // 可以自定义规则</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><code>precommit</code> git提供的钩子函数，在该阶段执行<code>eslint</code>等验证规范，再根据执行结果判断是否提交</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">.</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">dirname</span> <span class="token string">&quot;<span class="token variable">$0</span>&quot;</span><span class="token variable">)</span></span>/_/husky.sh&quot;</span>

<span class="token comment"># npx --no-install pretty-quick --staged</span>
npx --no-install lint-staged
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>commit-msg</code> 验证 <code>git commit -m &quot;xx&quot;</code> 提交的 <code>message</code> 信息格式和规范</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">.</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">dirname</span> <span class="token string">&quot;<span class="token variable">$0</span>&quot;</span><span class="token variable">)</span></span>/_/husky.sh&quot;</span>

npx --no-install commitlint --edit <span class="token variable">$1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>.gitignore</code> 作用是为了忽略 <code>husky</code>安装产生的非项目代码文件</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>_
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>package.json</code>配置</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 这里换成 postinstall 也可以，npm提供的一个生命周期钩子</span>
  <span class="token comment">// 主要是为了我们在安装完 husky依赖后可以执行husky脚本，使git hook钩子生效</span>
  <span class="token property">&quot;prepare&quot;</span><span class="token operator">:</span> <span class="token string">&quot;husky install&quot;</span><span class="token punctuation">,</span> 
  <span class="token property">&quot;commitlint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commitlint --from=master&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">// lint 相关规则和规范执行命令</span>
  <span class="token property">&quot;lint:eslint:fix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --ext .ts,.tsx --no-error-on-unmatched-pattern --quiet --fix&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;lint:style&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stylelint --fix \&quot;src/**/*.less\&quot; --syntax less&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run lint:eslint:fix &amp;&amp; npm run lint:style&quot;</span><span class="token punctuation">,</span>

  <span class="token comment">// prettier 格式化的一个拓展库</span>
  <span class="token property">&quot;pretty-quick&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pretty-quick&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;*.{ts,tsx}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;npm run lint:eslint:fix&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;git add --force&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;*.{md,json}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;pretty-quick --staged&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;git add --force&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="vscode-配置"><a href="#vscode-配置" class="header-anchor">#</a> vscode 配置</h4> <ul><li>安装 <code>eslint</code>、<code>prettier</code> 拓展插件</li> <li>添加 <code>.vscode/settings.json</code> 配置文件，或者全局设置 <code>vscode settings.json</code></li></ul> <div class="language-jsonc line-numbers-mode"><pre class="language-text"><code>// 保存时格式化
&quot;editor.formatOnSave&quot;: true, 
// 相当于是 vscode 保存时调用的钩子事件
&quot;editor.codeActionsOnSave&quot;: {
  // 保存时使用 ESLint 修复可修复错误
  &quot;source.fixAll.eslint&quot;: true
}
// 针对对应文件设置默认格式化插件
&quot;[javascript]&quot;: {
  &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;
},
&quot;[javascriptreact]&quot;: {
  &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;
},
&quot;[typescript]&quot;: {
  &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;
},
&quot;[typescriptreact]&quot;: {
  &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;
},
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="hmr-热更新配置"><a href="#hmr-热更新配置" class="header-anchor">#</a> HMR 热更新配置</h3> <p>这里我们使用 <code>react-refresh</code>+<code>webpack</code> 方案</p> <ul><li>安装依赖：<code>yarn add react-refresh @pmmmwh/react-refresh-webpack-plugin -D</code></li> <li>添加<code>webpack</code>配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> HotModuleReplacementPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ReactRefreshWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@pmmmwh/react-refresh-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3010</span><span class="token punctuation">,</span> <span class="token comment">// 端口</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token comment">// 基础路径</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 打开页面</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启热更新</span>
    <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 把404响应定位到 index.html</span>
    <span class="token comment">// proxy:{} // 开发环境，接口代理</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ReactRefreshWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="生产环境打包压缩、chunk拆分"><a href="#生产环境打包压缩、chunk拆分" class="header-anchor">#</a> 生产环境打包压缩、chunk拆分</h3> <ul><li>安装<code>css</code>压缩插件：<code>yarn add mini-css-extract-plugin css-minimizer-webpack-plugin -D</code></li> <li>安装<code>js</code>压缩插件：<code>yarn add terser-webpack-plugin -D</code></li> <li>安装<code>gzip</code>压缩插件：<code>yarn add compression-webpack-plugin -D</code></li> <li>如果想查看对包模块的可视化分析可使用插件：<code>webpack-bundle-analyzer</code></li></ul> <p><code>css</code>压缩的<code>webpack</code>配置：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;css-minimizer-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 支持动态注入 link 标签到 html中</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// .css</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// 该插件是为了把 CSS提取到单独的文件中</span>
          MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> 
          <span class="token string">'css-loader'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// less</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'less-loader'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 简化 HTML 文件的创建</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'public/index.html'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// MiniCss</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].css&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&quot;[id].css&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// 压缩</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><p><code>js</code>压缩的<code>webpack</code>配置：</p> <p>webpack5.x内置有<code>terser-webpack-plugin</code>，不过如果想要自定义配置还是需要安装的</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用 terser 压缩 JavaScript</span>
<span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;terser-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">minimize</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启压缩</span>
    <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// 1. 简单使用默认配置</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 使用插件</span>
      <span class="token comment">// 2. 自定义配置一些参数</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">terserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">comments</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 在输出中省略注释</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// ie8: true 开启 ie8 支持</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><code>chunk</code>拆分</p> <p>这里的可玩性还是比较高的，各种性能优化啥的，有兴趣的朋友可以研究研究，我们这里只做简单使用配置👀~</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span> <span class="token comment">// 处理哪种chunk，可选值为：all、async、initial（all包括异步和非异步）</span>
      <span class="token literal-property property">maxInitialRequests</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 入口点的最大并行请求数。</span>
      <span class="token literal-property property">minSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 生成 chunk 的最小体积（以 bytes 为单位）</span>
      <span class="token comment">// 缓存组，该组内配置可继承、覆盖splitChunks中的配置</span>
      <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// [\\/] 是为了分别匹配 win、Unix系统路径</span>
          <span class="token comment">// 拆分 vendor，自定义name（vendor默认是合并为一个 chunk）</span>
          <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 把 npm 库拆分独立打包</span>
            <span class="token keyword">const</span> packageName <span class="token operator">=</span> module<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/](.*?)([\\/]|$)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">npm.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>packageName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><code>Gzip</code>压缩</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> CompressionPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'compression-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">algorithm</span><span class="token operator">:</span> <span class="token string">'gzip'</span><span class="token punctuation">,</span> <span class="token comment">// 压缩算法</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$|\.css$|\.html$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span> <span class="token comment">// 只压缩大于 10240 bytes 的chunk</span>
      <span class="token literal-property property">minRatio</span><span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token comment">// 只压缩大于该值的 minRatio = Compressed Size / Original Size</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="【图-1】chunk拆分、gzip压缩后的效果"><a href="#【图-1】chunk拆分、gzip压缩后的效果" class="header-anchor">#</a> 【图 1】chunk拆分、gzip压缩后的效果</h4> <p><img src="https://cdn.jsdelivr.net/gh/JS-banana/images/vuepress/webpack-react-ts-2.jpg" alt="压缩产物"></p> <h4 id="【图-2】analyzer可视化分析"><a href="#【图-2】analyzer可视化分析" class="header-anchor">#</a> 【图 2】Analyzer可视化分析</h4> <p><img src="https://cdn.jsdelivr.net/gh/JS-banana/images/vuepress/webpack-react-ts-3.jpg" alt="Analyzer分析"></p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>本文着重描述了项目的工程化配置，涉及相关代码规范、开发环境搭建、生产环境优化等，旨在打造出一个可快速使用的现代化<code>webpack+react+typescript</code>模板，以供在以后的实际业务场景需求中零成本使用。</p> <p>目前这只算是最简陋的一个demo，对<code>webpack</code>相关的各种调优与项目优化还有很多方向可研究。</p> <p>接下来就是搞实际场景的业务组件的开发、第三方开源组件的集成使用、通用组件的使用和开发封装了~</p> <p>项目地址：<a href="https://github.com/JS-banana/webpack-react-ts" target="_blank" rel="noopener noreferrer">https://github.com/JS-banana/webpack-react-ts<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="https://cdn.jsdelivr.net/gh/JS-banana/images/emoji/1.jpg" alt="告辞"></p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://webpack.docschina.org/" target="_blank" rel="noopener noreferrer">webpack<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.babeljs.cn/docs/" target="_blank" rel="noopener noreferrer">Babel<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.aleksandrhovhannisyan.com/blog/format-code-on-save-vs-code-eslint/" target="_blank" rel="noopener noreferrer">How to Format Code on Save in VS Code with ESlint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/JS-banana/vuepress/edit/master/docs/01.前端/02.工程化/01.搭建一个标准化react+ts项目.md" target="_blank" rel="noopener noreferrer">编辑</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="tags"><a href="/blog/tags/?tag=webpack" title="标签">#webpack</a><a href="/blog/tags/?tag=react" title="标签">#react</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/09/01, 09:19:57</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/blog/pages/e4bf0d/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">说说call、apply、bind是如何改变this的</div></a> <a href="/blog/pages/e6f55f/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Webpack项目优化系列一</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/pages/e4bf0d/" class="prev">说说call、apply、bind是如何改变this的</a></span> <span class="next"><a href="/blog/pages/e6f55f/">Webpack项目优化系列一</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/blog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blog/pages/e4bf0d/"><div>说说call、apply、bind是如何改变this的</div></a> <span>03-29</span></dt></dl><dl><dd>02</dd> <dt><a href="/blog/pages/d865ca/"><div>从输入 URL 到页面加载完成发生了什么？</div></a> <span>03-29</span></dt></dl><dl><dd>03</dd> <dt><a href="/blog/pages/8d9372/"><div>JavaScript进阶—— new 的执行过程</div></a> <span>03-26</span></dt></dl> <dl><dd></dd> <dt><a href="/blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:213018@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/JS-banana" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://juejin.cn/user/1204720476890477" title="掘金" target="_blank" class="iconfont icon-juejin"></a></div> <span>sunss</span> 
    | © 2020.08-2025.09
    <span><a href="https://beian.miit.gov.cn/" target="_blank">浙ICP备2022002957号-1</a></span> <div class="cloud"><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span>
     | 
    <span id="busuanzi_container_site_pv">
      总访问量 <span id="busuanzi_value_site_pv"></span> 次
    </span></div> <div class="cloud"><a href="https://cloud.tencent.com/" target="_blank"><img src="https://cloudcache.tencent-cloud.com/qcloud/portal/kit/images/slice/logo.f0c9ade4.svg" alt></a>
    提供CDN加速/云存储服务
  </div></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li><li class="iconfont icon-yuedu">阅读模式</li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><canvas id="erraticSignals-canvas" data-v-71426c40></canvas><div></div></div></div>
    <script src="/blog/assets/js/app.8943bfc3.js" defer></script><script src="/blog/assets/js/2.6ed24f91.js" defer></script><script src="/blog/assets/js/3.c0dae15f.js" defer></script><script src="/blog/assets/js/23.3988c4a2.js" defer></script>
  </body>
</html>
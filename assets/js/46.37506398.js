(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{552:function(s,t,a){"use strict";a.r(t);var n=a(43),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/JS-banana/images/vuepress/webhook.png",alt:"æµç¨‹å›¾"}})]),s._v(" "),a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),a("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯github-actionã€github-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯github-actionã€github-page"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯"),a("code",[s._v("GitHub Action")]),s._v("ã€"),a("code",[s._v("GitHub Page")])]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("Github Action")]),s._v(" å¯ä»¥å¸®åŠ©æ‚¨è‡ªåŠ¨å®Œæˆè½¯ä»¶å¼€å‘å‘¨æœŸå†…çš„ä»»åŠ¡ï¼Œå®ƒæ˜¯äº‹ä»¶é©±åŠ¨çš„ï¼Œè€Œä¸”å·²ç»å’Œ"),a("code",[s._v("GitHub")]),s._v("æ·±åº¦æ•´åˆï¼Œå¯ä»¥è¿è¡Œå¾ˆå¤š"),a("code",[s._v("GitHub")]),s._v("äº‹ä»¶ï¼Œæœ€æ™®éçš„æ˜¯æŽ¨é€åˆ°"),a("code",[s._v("master")]),s._v("åˆ†æ”¯ã€‚ä½†æ˜¯"),a("code",[s._v("actions")]),s._v("å¹¶ä¸ä»…ä»…åªæ˜¯éƒ¨ç½²å’Œå‘å¸ƒï¼Œå®ƒä»¬éƒ½æ˜¯å®¹å™¨ï¼Œæ¯«ä¸å¤¸å¼ åœ°è¯´ä½ å¯ä»¥åšä»»ä½•äº‹æƒ… â€”â€” æœ‰ç€æ— å°½çš„å¯èƒ½æ€§ï¼ä½ å¯ä»¥ç”¨å®ƒä»¬åŽ‹ç¼©åˆå¹¶"),a("code",[s._v("CSS")]),s._v("å’Œ"),a("code",[s._v("JavaScript")]),s._v("ï¼Œæœ‰äººåœ¨ä½ çš„é¡¹ç›®ä»“åº“é‡Œåˆ›å»º"),a("code",[s._v("issue")]),s._v("çš„æ—¶å€™å‘ä½ å‘é€ä¿¡æ¯ï¼Œä»¥åŠæ›´å¤šâ€¦â€¦æ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("GitHub Page")]),s._v(" æ˜¯Githubæä¾›çš„ä¸€æ¬¾å…è´¹çš„~ï¼Œç”¨äºŽæ‰˜ç®¡ä¸ªäººçš„é™æ€ç½‘ç«™ï¼Œå¯ä»¥ç”¨å®ƒæ¥æ­å»ºç§äººåšå®¢ï¼Œä¹Ÿç®—æ˜¯çœåŽ»äº†è´­ä¹°æœåŠ¡å™¨ã€åŸŸåç­‰ç­‰ä¸€ç³»åˆ—å¤æ‚çš„æ“ä½œã€‚")]),s._v(" "),a("p",[a("strong",[s._v("è§„åˆ™")]),s._v("ï¼šå»ºç«‹ä¸€ä¸ªä»“åº“å‘½åä¸º "),a("code",[s._v("ç”¨æˆ·å.github.io")]),s._v(" ï¼Œ"),a("a",{attrs:{href:"https://docs.github.com/cn/github/working-with-github-pages/getting-started-with-github-pages",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®˜æ–¹æ–‡æ¡£"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("strong",[s._v("ä½¿ç”¨")]),s._v("ï¼šä»“åº“ä¸‹åˆ›å»ºä¸€ä¸ª"),a("code",[s._v("index.html")]),s._v("æ–‡ä»¶è®¿é—®ç½‘å€å³å¯å¿«é€ŸæŸ¥çœ‹")])])]),s._v(" "),a("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯coding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯coding"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯"),a("code",[s._v("Coding")])]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("CODING")]),s._v(" ç³»è…¾è®¯æ——ä¸‹å…¨èµ„å­å…¬å¸, æ——ä¸‹ä¸€ç«™å¼è½¯ä»¶ç ”å‘ç®¡ç†å¹³å°â€”CODINGï¼ˆ"),a("a",{attrs:{href:"https://coding.net/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://coding.net/"),a("OutboundLink")],1),s._v(" ï¼‰æ˜¯ä¸€ç«™å¼è½¯ä»¶ç ”å‘ç®¡ç†åä½œå¹³å°ï¼Œæä¾› Git/SVN ä»£ç æ‰˜ç®¡ã€é¡¹ç›®ååŒã€æµ‹è¯•ç®¡ç†ã€åˆ¶å“åº“ã€CI/CD ç­‰ä¸€ç³»åˆ—åœ¨çº¿å·¥å…·ï¼Œå¸®åŠ©ç ”å‘å›¢é˜Ÿå¿«é€Ÿè½åœ°æ•æ·å¼€å‘ä¸Ž "),a("code",[s._v("DevOps")]),s._v(" å¼€å‘æ–¹å¼ï¼Œæå‡ç ”å‘ç®¡ç†æ•ˆçŽ‡ï¼Œå®žçŽ°ç ”å‘æ•ˆèƒ½å‡çº§ã€‚")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("Coding")]),s._v(" æƒ³åšçš„å°±æ˜¯å¸®åŠ©å¼€å‘è€…èƒ½å¤Ÿé«˜æ•ˆçš„åœ¨äº‘ç«¯å®Œæˆè½¯ä»¶å¼€å‘çš„å·¥ä½œã€‚ä»£ç æ‰˜ç®¡ï¼Œé¡¹ç›®ç®¡ç†ï¼Œæ¼”ç¤ºå¹³å°ï¼Œè´¨é‡ç®¡ç†ç­‰ç­‰éƒ½æ˜¯ä¸ºäº†å¸®åŠ©å¼€å‘è€…åœ¨äº‘ç«¯å®Œæˆä¸€ç³»åˆ—é«˜éš¾åº¦çš„è½¯ä»¶å¼€å‘åŠ¨ä½œã€‚ç»™å¼€å‘è€…æä¾›æžè‡´çš„äº‘ç«¯å¼€å‘ä½“éªŒï¼Œå¼ºè°ƒçš„æ˜¯ç§æœ‰åº“ï¼Œå¼ºè°ƒå›¢é˜Ÿåä½œï¼Œå¼ºè°ƒæ•´åˆä½“éªŒï¼Œå¼ºè°ƒè®¿é—®é€Ÿåº¦ã€‚")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("ä¸ºä»€ä¹ˆè¦ç”¨Coding")]),s._v("ï¼Ÿ")])])]),s._v(" "),a("blockquote",[a("p",[s._v("å¯¹äºŽCodingçš„ä½œç”¨ï¼Œå…¶å®žå°±ç±»ä¼¼Giteeä¸€æ ·ï¼Œå±žäºŽå›½å†…éƒ¨ç½²ï¼Œé€Ÿåº¦æå‡éžå¸¸æ˜Žæ˜¾ï¼Œè€Œä¸”è¿˜å¯ä»¥è¢«ç™¾åº¦æ”¶å½•ã€‚ç”±äºŽä¼—è¯´å‘¨çŸ¥çš„åŽŸå› ï¼Œå›½å†…è®¿é—®GitHubé€Ÿåº¦æ„Ÿäººï¼Œæˆ‘ä¹Ÿè¯•è¿‡ä¸€å¼€å§‹ç›´æŽ¥èŽ·å–GitHubçš„ä»£ç ï¼Œä½†æ˜¯é€Ÿåº¦å¤ªæ…¢ï¼Œæ•ˆçŽ‡å¾ˆä½Žï¼Œå› æ­¤æœ€ç»ˆé€‰æ‹©äº†Codingä½œä¸ºä»“åº“é•œåƒï¼Œå½“ç„¶è¿™é‡Œæ¢æˆGiteeä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯webhook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯webhook"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯"),a("code",[s._v("Webhook")])]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("Webhook")]),s._v("æ˜¯ä¸€ä¸ª"),a("code",[s._v("API")]),s._v("æ¦‚å¿µï¼Œæœ¯è¯­â€œç½‘ç»œé’©å­â€ï¼Œæœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºâ€œåå‘ APIâ€ã€‚å› ä¸ºä»–æä¾›äº†APIè§„åˆ™ï¼Œä½ éœ€è¦è®¾è®¡è¦ä½¿ç”¨çš„"),a("code",[s._v("API")]),s._v("ã€‚"),a("code",[s._v("Webhook")]),s._v("å°†å‘ä½ çš„åº”ç”¨å‘èµ·"),a("code",[s._v("http")]),s._v("è¯·æ±‚ï¼Œå…¸åž‹çš„æ˜¯"),a("code",[s._v("post")]),s._v("è¯·æ±‚ï¼Œåº”ç”¨ç¨‹åºç”±è¯·æ±‚é©±åŠ¨ã€‚æˆ‘ä»¬èƒ½ç”¨äº‹ä»¶æè¿°çš„äº‹ç‰©è¶Šå¤šï¼Œ"),a("code",[s._v("webhook")]),s._v("çš„ä½œç”¨èŒƒå›´ä¹Ÿå°±è¶Šå¤§ã€‚")])]),s._v(" "),a("li",[a("p",[s._v("å‡†ç¡®çš„è¯´"),a("code",[s._v("webhook")]),s._v("æ˜¯ä¸€ç§webå›žè°ƒæˆ–è€…httpçš„"),a("code",[s._v("push API")]),s._v("ï¼Œæ˜¯å‘APPæˆ–è€…å…¶ä»–åº”ç”¨æä¾›å®žæ—¶ä¿¡æ¯çš„ä¸€ç§æ–¹å¼ã€‚"),a("code",[s._v("Webhook")]),s._v("åœ¨æ•°æ®äº§ç”Ÿæ—¶ç«‹å³å‘é€æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä½ èƒ½å®žæ—¶æ”¶åˆ°æ•°æ®ã€‚ä½¿ç”¨ "),a("code",[s._v("webhooks")]),s._v("ï¼Œæ‚¨å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šå‘ç”ŸæŸäº›äº‹ä»¶æ—¶èŽ·å¾—æŽ¨é€é€šçŸ¥ã€‚ä½ å¯ä»¥ä½¿ç”¨ webhooksâ€œè®¢é˜…â€æ´»åŠ¨ã€‚")])])]),s._v(" "),a("h2",{attrs:{id:"éœ€æ±‚åŠåœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#éœ€æ±‚åŠåœºæ™¯"}},[s._v("#")]),s._v(" éœ€æ±‚åŠåœºæ™¯")]),s._v(" "),a("p",[s._v("ä¼—æ‰€å‘¨çŸ¥ï¼Œ"),a("code",[s._v("GitHub")]),s._v("ä½œä¸ºå…¨çƒæœ€å¤§åŒæ€§äº¤å‹ç¤¾åŒºï¼Œä¸ºäº†ä¸Žå¤§å®¶æ›´æ–¹ä¾¿å‹å¥½ç§¯æžçš„äº¤æµ ðŸ¶ï¼Œæˆ‘çš„æºç å­˜æ”¾åœ°å€æ˜¯å­˜æ”¾åœ¨"),a("code",[s._v("GitHub")]),s._v("çš„ï¼Œå†…å®¹åŒ…æ‹¬åšå®¢çš„æ›´æ–°ã€ä¸€äº›æµ‹è¯•ç”¨ä¾‹ã€æ•™ç¨‹ã€Demoç­‰ã€‚")]),s._v(" "),a("p",[s._v("å› ä¸ºæˆ‘çš„åšå®¢æ˜¯éƒ¨ç½²åœ¨é˜¿é‡Œäº‘çš„ä¸ªäººæœåŠ¡å™¨ä¸Šï¼Œæœ‰æ—¶åšå®¢æ›´æ–°åˆæ¯”è¾ƒé¢‘ç¹ï¼Œä¸€å¼€å§‹æ˜¯é€šè¿‡sshé“¾æŽ¥åˆ°æœåŠ¡å™¨åŽç„¶åŽé€šè¿‡å‘½ä»¤"),a("code",[s._v("git clone")]),s._v("ã€"),a("code",[s._v("git pull")]),s._v("ã€"),a("code",[s._v("npm run build")]),s._v(" è¿™ç§æ“ä½œæ–¹æ³•åŽ»æ‰‹åŠ¨è¿›è¡Œæ›´æ–°ï¼Œè¿™é‡Œå­˜åœ¨å‡ ä¸ªé—®é¢˜ï¼š")]),s._v(" "),a("ol",[a("li",[s._v("é¢‘ç¹ç™»å½•æœåŠ¡å™¨ï¼Œéžå¸¸ç¹ç")]),s._v(" "),a("li",[a("code",[s._v("GitHub")]),s._v(" é€Ÿåº¦é—®é¢˜ï¼Œæ¯æ¬¡æ›´æ–°éƒ½è¦ç­‰å¾…å¾ˆä¹…")]),s._v(" "),a("li",[s._v("æœåŠ¡å™¨æ€§èƒ½é—®é¢˜ï¼Œå¯¹äºŽä½Žé…æœåŠ¡å™¨æ‰§è¡Œ "),a("code",[s._v("npm run build")]),s._v(" æ‰“åŒ…å¾ˆåƒåŠ›")])]),s._v(" "),a("h2",{attrs:{id:"æ€è·¯åŠæµç¨‹å›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€è·¯åŠæµç¨‹å›¾"}},[s._v("#")]),s._v(" æ€è·¯åŠæµç¨‹å›¾")]),s._v(" "),a("h3",{attrs:{id:"æ€è·¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€è·¯"}},[s._v("#")]),s._v(" æ€è·¯")]),s._v(" "),a("ol",[a("li",[s._v("æœ¬åœ°ç”µè„‘é€šè¿‡"),a("code",[s._v("git")]),s._v("æäº¤åˆ°"),a("code",[s._v("GitHub")]),s._v("ä»“åº“")]),s._v(" "),a("li",[a("code",[s._v("GitHub Action")]),s._v("ç›‘å¬åˆ°"),a("code",[s._v("push event")]),s._v("äº‹ä»¶è§¦å‘"),a("code",[s._v("ci.yml")]),s._v("æ‰§è¡Œè„šæœ¬")]),s._v(" "),a("li",[a("code",[s._v("build")]),s._v("æ‰“åŒ…ç”Ÿæˆéƒ¨ç½²æ–‡ä»¶æŽ¨é€åˆ°"),a("code",[s._v("GitHub gh-pages")]),s._v("åˆ†æ”¯ä¸Ž"),a("code",[s._v("Coding master")]),s._v("åˆ†æ”¯")]),s._v(" "),a("li",[a("code",[s._v("Coding")]),s._v("è®¾ç½®"),a("code",[s._v("webhook")]),s._v("ç›‘å¬"),a("code",[s._v("push event")]),s._v("äº‹ä»¶è§¦å‘"),a("code",[s._v("webhook")]),s._v("é’©å­")]),s._v(" "),a("li",[a("code",[s._v("webhook")]),s._v("é’©å­é€šä¿¡åˆ°ä¸ªäººæœåŠ¡å™¨å†…å¯åŠ¨çš„"),a("code",[s._v("http server")]),s._v("ï¼ŒéªŒè¯èº«ä»½ä¸Žä»“åº“ï¼Œæ‰§è¡Œ"),a("code",[s._v("webhook.sh")]),s._v("è„šæœ¬")]),s._v(" "),a("li",[a("code",[s._v("webhook.sh")]),s._v("è„šæœ¬"),a("code",[s._v("cd")]),s._v("è¿›å…¥"),a("code",[s._v("nginx")]),s._v("ä¸‹çš„åšå®¢éƒ¨ç½²ç›®å½•ï¼Œè¿›è¡Œ"),a("code",[s._v("git pull")]),s._v("æ›´æ–°æ“ä½œ")]),s._v(" "),a("li",[s._v("æ ¹æ®ç»“æžœç”Ÿæˆæ—¥å¿—ï¼Œæˆ–æ·»åŠ é‚®ä»¶é€šçŸ¥åŠŸèƒ½ï¼ˆç»“åˆ"),a("code",[s._v("Nodemailer")]),s._v("åº“å®žçŽ°ï¼‰")])]),s._v(" "),a("h3",{attrs:{id:"æµç¨‹å›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµç¨‹å›¾"}},[s._v("#")]),s._v(" æµç¨‹å›¾")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/JS-banana/images/vuepress/webhook.png",alt:"æµç¨‹å›¾"}})]),s._v(" "),a("h2",{attrs:{id:"åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œ-access-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œ-access-token"}},[s._v("#")]),s._v(" åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œ Access Token")]),s._v(" "),a("p",[s._v("æŽ¥ä¸‹æ¥è‡ªåŠ¨åŒ–éƒ¨ç½²ä¸ŽæŒç»­é›†æˆä¼šç”¨åˆ°ä»¥"),a("code",[s._v("https")]),s._v("æ–¹å¼æäº¤ä»£ç åˆ°ä»“åº“çš„æ–¹æ¡ˆï¼Œè¿™é‡Œéœ€è¦é…ç½®ä¸‹"),a("code",[s._v("access token")]),s._v("ä¸ªäººè®¿é—®ä»¤ç‰Œä½œä¸ºçŽ¯å¢ƒå˜é‡æä¾›ç»™"),a("code",[s._v("Action")]),s._v("ä¸Žè„šæœ¬ä½¿ç”¨ã€‚")]),s._v(" "),a("h3",{attrs:{id:"github-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-token"}},[s._v("#")]),s._v(" GitHub Token")]),s._v(" "),a("p",[s._v("ç¬¬ä¸€æ­¥ï¼ŒæŒ‰ç…§"),a("a",{attrs:{href:"https://docs.github.com/cn/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®˜æ–¹æ–‡æ¡£"),a("OutboundLink")],1),s._v(" ï¼Œç”Ÿæˆä¸€ä¸ª"),a("code",[s._v("github token")]),s._v(" (ä»¤ç‰Œ)ã€‚")]),s._v(" "),a("p",[s._v("ç¬¬äºŒæ­¥ï¼Œå°†è¿™ä¸ªå¯†é’¥å‚¨å­˜åˆ°å½“å‰ä»“åº“çš„"),a("code",[s._v("Settings/Secrets")]),s._v("é‡Œé¢ã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v("Settings/Secretsæ˜¯å‚¨å­˜ç§å¯†çš„çŽ¯å¢ƒå˜é‡çš„åœ°æ–¹ã€‚çŽ¯å¢ƒå˜é‡çš„åå­—å¯ä»¥éšä¾¿èµ·ï¼Œè¿™é‡Œç”¨çš„æ˜¯ACCESS_TOKENã€‚å¦‚æžœä½ ä¸ç”¨è¿™ä¸ªåå­—ï¼Œ.github/workflows/ci.ymlè„šæœ¬é‡Œçš„å˜é‡åä¹Ÿè¦è·Ÿç€æ”¹ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"coding-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coding-token"}},[s._v("#")]),s._v(" Coding Token")]),s._v(" "),a("p",[s._v("ç¬¬ä¸€æ­¥ï¼ŒæŒ‰ç…§"),a("a",{attrs:{href:"https://help.coding.net/docs/member/tokens.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®˜æ–¹æ–‡æ¡£"),a("OutboundLink")],1),s._v(" ï¼Œç”Ÿæˆä¸€ä¸ª"),a("code",[s._v("coding token")]),s._v(" (ä»¤ç‰Œ)ã€‚")]),s._v(" "),a("p",[s._v("ç¬¬äºŒæ­¥ï¼ŒåŒ GitHub")]),s._v(" "),a("h2",{attrs:{id:"å‡ ç§æ–¹æ¡ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‡ ç§æ–¹æ¡ˆ"}},[s._v("#")]),s._v(" å‡ ç§æ–¹æ¡ˆ")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("æç¤º")]),s._v(" "),a("p",[s._v("è¿™é‡Œç¤ºä¾‹å‡ ç§æˆ‘å°è¯•è¿‡çš„æ–¹æ¡ˆï¼Œä¸‹é¢ä¼šä»”ç»†åˆ†æžä»‹ç»æ¯ç§æ–¹æ¡ˆçš„ä¼˜åŠ£ï¼Œä»¥åŠæˆ‘é€æ¸æ”¹è¿›ä¸Žå°è¯•çš„æ–¹æ³•ï¼Œå’Œæœ€ç»ˆå®žçŽ°ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"scp-å‘½ä»¤ç›´æŽ¥éƒ¨ç½²åˆ°æœåŠ¡å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scp-å‘½ä»¤ç›´æŽ¥éƒ¨ç½²åˆ°æœåŠ¡å™¨"}},[s._v("#")]),s._v(" scp å‘½ä»¤ç›´æŽ¥éƒ¨ç½²åˆ°æœåŠ¡å™¨")]),s._v(" "),a("h4",{attrs:{id:"ä¸»è¦æ€è·¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»è¦æ€è·¯"}},[s._v("#")]),s._v(" ä¸»è¦æ€è·¯")]),s._v(" "),a("p",[s._v("é€šè¿‡ä½¿ç”¨"),a("code",[s._v("scp")]),s._v("å‘½ä»¤ç›´æŽ¥æŠŠæœ¬åœ°éƒ¨ç½²æ–‡ä»¶æ‹·è´è‡³è¿œç¨‹æœåŠ¡å™¨")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("scp")]),s._v("æ˜¯"),a("code",[s._v("secure copy")]),s._v("çš„ç®€å†™ï¼Œæ˜¯ "),a("code",[s._v("linux")]),s._v(" ç³»ç»Ÿä¸‹åŸºäºŽ "),a("code",[s._v("ssh")]),s._v(" ç™»é™†è¿›è¡Œå®‰å…¨çš„è¿œç¨‹æ–‡ä»¶æ‹·è´å‘½ä»¤ï¼Œ"),a("code",[s._v("scp")]),s._v("ä¼ è¾“æ˜¯åŠ å¯†çš„ã€‚")])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("æœ¬åœ°è¿›è¡Œ"),a("code",[s._v("npm run build")]),s._v("æ‰“åŒ…ç¼–è¯‘ï¼ŒèŽ·å¾—éƒ¨ç½²æ–‡ä»¶")])]),s._v(" "),a("li",[a("p",[s._v("ç›´æŽ¥é€šè¿‡ä¸Šä¼ æ›¿æ¢æºæ–‡ä»¶è¿›è¡Œæ›´æ–°")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. è¯¥å‘½ä»¤ä¼šæŠŠå½“å‰ç›®å½•ä¸‹çš„distæ–‡ä»¶éåŽ†ä¸Šä¼ åˆ°blogç›®å½•ä¸‹ï¼š/blog/dist")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r ./dist root@ip/usr/local/app/blog/\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. è¾“å…¥æœåŠ¡å™¨å¯†ç ï¼Œç­‰å¾…ä¼ è¾“å®Œæˆå³å¯")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡sshçš„æ–¹å¼æ— å¯†ç ä¸Šä¼ ï¼Œä½†è¿™å¹¶ä¸èƒ½è¾¾åˆ°æˆ‘çš„æœ€ç»ˆç›®çš„ï¼Œè¿™é‡Œä¸å†èµ˜è¿°")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"æœ€ç»ˆæ•ˆæžœ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ€ç»ˆæ•ˆæžœ"}},[s._v("#")]),s._v(" æœ€ç»ˆæ•ˆæžœ")]),s._v(" "),a("ul",[a("li",[s._v("[x] æœåŠ¡å™¨ç¼–è¯‘çš„æ€§èƒ½é—®é¢˜å·²è§£å†³")]),s._v(" "),a("li",[s._v("[x] GitHubæ›´æ–°æ‹‰å–é€Ÿåº¦æ…¢çš„é—®é¢˜å·²è§£å†³")]),s._v(" "),a("li",[s._v("[ ] æ¯æ¬¡æ›´æ–°æ‰§è¡Œæ‰“åŒ…ç¼–è¯‘ã€ç™»å½•æ“ä½œç­‰æ­¥éª¤ä¾æ—§ç¹ç")])]),s._v(" "),a("h3",{attrs:{id:"github-action-pages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-action-pages"}},[s._v("#")]),s._v(" GitHub Action Pages")]),s._v(" "),a("h4",{attrs:{id:"ä¸»è¦æ€è·¯-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»è¦æ€è·¯-2"}},[s._v("#")]),s._v(" ä¸»è¦æ€è·¯")]),s._v(" "),a("p",[s._v("é€šè¿‡ä½¿ç”¨"),a("code",[s._v("GitHub")]),s._v("æä¾›çš„"),a("code",[s._v("Page")]),s._v(" ä¸Ž "),a("code",[s._v("Action")]),s._v("æœåŠ¡å®žçŽ°"),a("code",[s._v("gh-pages")]),s._v("æŒç»­é›†æˆä¸Žéƒ¨ç½²")]),s._v(" "),a("blockquote",[a("p",[s._v("gh-pages çš„æ­å»ºæ•™ç¨‹ç½‘ä¸Šå¾ˆå¤šï¼Œå…·ä½“å®žçŽ°æˆ‘å°±ä¸å†é‡å¤äº†ã€‚\nè¿™é‡Œæˆ‘æä¾›ä¸€ç§æˆ‘çš„æ–¹æ¡ˆï¼š")])]),s._v(" "),a("p",[s._v("é€šè¿‡åŠ¨æ€ç”Ÿæˆ"),a("code",[s._v("gh-pages")]),s._v("åˆ†æ”¯å¹¶æŽ¨é€åˆ°githubä»“åº“å®žçŽ°å¤šåœ°å€éƒ¨ç½²")]),s._v(" "),a("p",[s._v("å¦‚æˆ‘çš„åšå®¢çš„"),a("code",[s._v("GitHub")]),s._v("åœ°å€ï¼š"),a("a",{attrs:{href:"https://JS-banana.github.io/vuepress",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://JS-banana.github.io/vuepress"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"è„šæœ¬ç¼–å†™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è„šæœ¬ç¼–å†™"}},[s._v("#")]),s._v(" è„šæœ¬ç¼–å†™")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("æ ¹ç›®å½•ä¸‹åˆ›å»º "),a("code",[s._v(".github>workflows>ci.yml")])])]),s._v(" "),a("li",[a("p",[s._v("ci.ymlæ–‡ä»¶")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å·¥ä½œæµ")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è‡ªå®šä¹‰åç§°")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿è¡Œåœ¨è™šæ‹ŸæœºçŽ¯å¢ƒubuntu-latest")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("strategy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("matrix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("14.x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ­¥éª¤")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Checkout "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ­¥éª¤1")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@v1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨çš„åŠ¨ä½œã€‚æ ¼å¼ï¼šuserName/repoNameã€‚")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä½œç”¨ï¼šæ£€å‡ºä»“åº“ï¼ŒèŽ·å–æºç ã€‚ å®˜æ–¹actionsåº“ï¼šhttps://github.com/actions")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Use Node.js $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" matrix.node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("version "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ­¥éª¤2")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("node@v1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½œç”¨ï¼šå®‰è£…nodejs")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" matrix.node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("version "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç‰ˆæœ¬")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deploy "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ­¥éª¤3 éƒ¨ç½²åˆ°github gh-pages")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½®çŽ¯å¢ƒå˜é‡")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("GITHUB_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.ACCESS_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tokenç§å¯†å˜é‡")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v('\n      npm install\n      npm run build\n      cd ./dist\n      git init\n      git config user.name "name"\n      git config user.email "email"\n      git add .\n      git commit -m "$(date) Update from Action"\n      git push --force --quiet "https://JS-banana:${GITHUB_TOKEN}@github.com/JS-banana/vuepress.git" master:gh-pages')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("blockquote",[a("p",[s._v("è¯¥pageé¡¹ç›®å¯ä»¥ä½œä¸ºå¤‡é€‰åœ°å€ä½¿ç”¨ï¼Œé€šè¿‡"),a("code",[s._v("CNAME")]),s._v("å®šå‘åˆ°æˆ‘ä»¬è‡ªå·±çš„åŸŸåæœåŠ¡å™¨ä¸‹ã€‚\n"),a("strong",[s._v("CNAME")]),s._v("ï¼šå³åˆ«åè®°å½•ã€‚è¿™ç§è®°å½•å…è®¸æ‚¨å°†å¤šä¸ªåå­—æ˜ å°„åˆ°å¦å¤–ä¸€ä¸ªåŸŸåã€‚")])])]),s._v(" "),a("li",[a("p",[s._v("æ‰§è¡Œ "),a("code",[s._v("echo 'ssscode.com' > CNAME")]),s._v(" å‘½ä»¤ï¼Œç”Ÿæˆ "),a("code",[s._v("CNAME")]),s._v(" æ–‡ä»¶ï¼Œç„¶åŽæŠŠ"),a("code",[s._v("CNAME")]),s._v("æ–‡ä»¶æ”¾åˆ°ç”Ÿæˆçš„"),a("code",[s._v("dist")]),s._v("ç›®å½•ä¸‹ï¼Œè¿™ä¸€æ­¥å¯ä»¥é€šè¿‡"),a("code",[s._v("bash")]),s._v("è„šæœ¬å¤„ç†")])]),s._v(" "),a("li",[a("p",[s._v("æˆ‘ä»¬å†æŠŠä¸Šé¢çš„è„šæœ¬è°ƒæ•´ä¸‹")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å·¥ä½œæµ")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è‡ªå®šä¹‰åç§°")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿è¡Œåœ¨è™šæ‹ŸæœºçŽ¯å¢ƒubuntu-latest")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("strategy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("matrix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("14.x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ­¥éª¤")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Checkout "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ­¥éª¤1")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@v1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨çš„åŠ¨ä½œã€‚æ ¼å¼ï¼šuserName/repoNameã€‚")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä½œç”¨ï¼šæ£€å‡ºä»“åº“ï¼ŒèŽ·å–æºç ã€‚ å®˜æ–¹actionsåº“ï¼šhttps://github.com/actions")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Use Node.js $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" matrix.node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("version "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ­¥éª¤2")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("node@v1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½œç”¨ï¼šå®‰è£…nodejs")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" matrix.node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("version "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç‰ˆæœ¬")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deploy "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ­¥éª¤3 éƒ¨ç½²åˆ°github gh-pages")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½®çŽ¯å¢ƒå˜é‡")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("GITHUB_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.ACCESS_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tokenç§å¯†å˜é‡")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" npm install "),a("span",{pre:!0,attrs:{class:"token important"}},[s._v("&&")]),s._v(" npm run deploy\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("åˆ›å»º"),a("code",[s._v("deploy.sh")]),s._v("æ–‡ä»¶,å¹¶åœ¨"),a("code",[s._v("package.json")]),s._v("å­—æ®µ"),a("code",[s._v("scripts")]),s._v("ä¸‹æ·»åŠ "),a("code",[s._v('"deploy": "bash deploy.sh"')]),s._v("å‘½ä»¤")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¡®ä¿è„šæœ¬æŠ›å‡ºé‡åˆ°çš„é”™è¯¯")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# date")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("nowDate")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"+%Y-%m-%d %H:%M:%S"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç”Ÿæˆé™æ€æ–‡ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿›å…¥ç”Ÿæˆçš„æ–‡ä»¶å¤¹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ./dist\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CNAME")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'www.ssscode.com\\ssscode.com'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" CNAME  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è‡ªå®šä¹‰åŸŸå")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# github url")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("githubUrl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://JS-banana:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${GITHUB_TOKEN}")]),s._v("@github.com/JS-banana/vuepress.git\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½® git ç”¨æˆ·ä¿¡æ¯")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.name "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"JS-banana"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.email "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sss213018@163.com"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# commit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deploy.sh===>updateï¼š'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${nowDate}")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$githubUrl")]),s._v(" master:gh-pages "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŽ¨é€åˆ°github")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" - "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é€€å›žå¼€å§‹æ‰€åœ¨ç›®å½•")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf ./dist\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])])])]),s._v(" "),a("ul",[a("li",[s._v("åˆ°è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆé€šè¿‡GitHub Actionå®žçŽ°æŒç»­é›†æˆï¼Œæ‰“åŒ…ç”Ÿæˆéƒ¨ç½²æ–‡ä»¶å¹¶æŽ¨é€åˆ°gh-pagesåˆ†æ”¯ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"codingä¸ŽgithubåŒæ­¥éƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#codingä¸ŽgithubåŒæ­¥éƒ¨ç½²"}},[s._v("#")]),s._v(" Codingä¸ŽGitHubåŒæ­¥éƒ¨ç½²")]),s._v(" "),a("p",[s._v("è¿™ä¸€æ­¥å…¶å®žåŽŸç†å’Œä¸Šé¢"),a("strong",[s._v("GitHub Action Pages")]),s._v("åšæ³•ä¸€æ ·ï¼Œè€Œæˆ‘ä»¬è¦åšçš„æœ€é‡è¦çš„ä¸€æ­¥ï¼Œå°±æ˜¯æŠŠ"),a("strong",[s._v("Coding")]),s._v("çš„"),a("code",[s._v("token")]),s._v("ä¹Ÿé…ç½®åˆ°GitHubä»“åº“ä¸‹çš„"),a("code",[s._v("Settings/Secrets")]),s._v("é‡Œé¢ã€‚å³æ–°å¢žä¸€ä¸ªçŽ¯å¢ƒå˜é‡"),a("code",[s._v("CODING_TOKEN")]),s._v("ï¼Œè¯¥æ–¹æ³•åŒæ ·é€‚ç”¨äºŽ"),a("strong",[s._v("Gitee")]),s._v(",æƒ³è¦ä½¿ç”¨Giteeçš„å°ä¼™ä¼´ä¹Ÿå¯ä»¥äº²è‡ªå°è¯•ã€‚")]),s._v(" "),a("p",[a("code",[s._v("ci.yml")]),s._v("æ–‡ä»¶å¢žåŠ ")]),s._v(" "),a("div",{staticClass:"language-diff line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[s._v("env: # è®¾ç½®çŽ¯å¢ƒå˜é‡\n"),a("span",{pre:!0,attrs:{class:"token unchanged"}},[a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" GITHUB_TOKEN: ${{ secrets.ACCESS_TOKEN }} # github token ç§å¯†å˜é‡\n")])]),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" CODING_TOKEN: ${{ secrets.CODING_TOKEN }} # coding token ç§å¯†å˜é‡\n")])])])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("code",[s._v("deploy.sh")]),s._v("æ–‡ä»¶è°ƒæ•´ä¸º")]),s._v(" "),a("div",{staticClass:"language-diff line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[a("span",{pre:!0,attrs:{class:"token unchanged"}},[a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" # github url\n")]),a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" githubUrl=https://JS-banana:${GITHUB_TOKEN}@github.com/JS-banana/vuepress.git\n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" # coding url\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" #æ³¨æ„ï¼ï¼ï¼è¿™é‡Œéœ€è¦ä½¿ç”¨codingæä¾›çš„ä¸ªäººä»¤ç‰Œçš„ç”¨æˆ·åå’Œtoken ï¼ˆhttps://[name]:[token]@e.coding.net/xxï¼‰\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" codingUrl=https://ptzv1yuleer1:${CODING_TOKEN}@e.coding.net/ssscode/blog/vuepress.git \n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token unchanged"}},[a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" git push -f $githubUrl master:gh-pages # æŽ¨é€åˆ°github\n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[a("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" cd - # é€€å›žå¼€å§‹æ‰€åœ¨ç›®å½•\n")]),a("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" rm -rf ./dist\n")])]),a("span",{pre:!0,attrs:{class:"token unchanged"}},[a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" \n")])]),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" git push -f $codingUrl master # æŽ¨é€åˆ°coding\n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" cd - # é€€å›žå¼€å§‹æ‰€åœ¨ç›®å½•\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" rm -rf ./dist\n")])])])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h2",{attrs:{id:"webhookä¸Žcodingå®žçŽ°æŒç»­éƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webhookä¸Žcodingå®žçŽ°æŒç»­éƒ¨ç½²"}},[s._v("#")]),s._v(" Webhookä¸ŽCodingå®žçŽ°æŒç»­éƒ¨ç½²")]),s._v(" "),a("h3",{attrs:{id:"å®žçŽ°æ€è·¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®žçŽ°æ€è·¯"}},[s._v("#")]),s._v(" å®žçŽ°æ€è·¯")]),s._v(" "),a("p",[s._v("é¦–å…ˆï¼Œå®žçŽ°ä¸€ä¸ª "),a("code",[s._v("nodejs http server")]),s._v("ç”¨äºŽæŽ¥æ”¶è¯·æ±‚ï¼Œå³ "),a("code",[s._v("webhook.js")]),s._v("é’©å­æœåŠ¡ï¼Œè¿™é‡Œæˆ‘å»ºè®®åŸŸåè§£æžä¸€ä¸ªäºŒçº§åŸŸåä¾›webhookä¸“é—¨ä½¿ç”¨ï¼Œå¦‚ï¼š"),a("code",[s._v("webhook.ssscode.com")]),s._v("ï¼Œå½“ç„¶ï¼Œç›´æŽ¥åœ¨å½“å‰é¡¹ç›®ä¸‹ä»¥ "),a("code",[s._v("/webhook")]),s._v(" è·¯å¾„ä½œä¸ºè§¦å‘è·¯ç”±ä¹Ÿå¯ä»¥ã€‚è¿™é‡Œæˆ‘ä»¬ä»¥ç¬¬ä¸€ç§æ–¹æ¡ˆä¸ºä¾‹ï¼Œä½¿ç”¨"),a("code",[s._v("nodejs")]),s._v("çš„"),a("code",[s._v("pm2")]),s._v("å®ˆæŠ¤ç¨‹åºå¯åŠ¨"),a("code",[s._v("webhook.js")]),s._v("ï¼Œç„¶åŽå†é€šè¿‡nginxåå‘ä»£ç†æœ¬åœ°å¯åŠ¨çš„æœåŠ¡æ˜ å°„åˆ° "),a("code",[s._v("webhook.ssscode.com")]),s._v(" å³å¯ã€‚")]),s._v(" "),a("h3",{attrs:{id:"åˆ›å»º-webhook-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»º-webhook-js"}},[s._v("#")]),s._v(" åˆ›å»º webhook.js")]),s._v(" "),a("p",[s._v("ä¸»è¦ä½¿ç”¨äº†NodeJsæ¨¡å—"),a("code",[s._v("http")]),s._v("ï¼ˆåˆ›å»ºserverï¼‰ ä¸Ž "),a("code",[s._v("child_process")]),s._v(" ï¼ˆæ‰§è¡Œbashè„šæœ¬ï¼‰")]),s._v(" "),a("p",[s._v("åºŸè¯ä¸å¤šè¯´ï¼Œç›´æŽ¥ä¸Šä»£ç ")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webhook.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" server "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" spawn "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'child_process'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nserver\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createServer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// accept request")]),s._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("accept requestï¼š")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æŽ¥æ”¶POSTè¯·æ±‚")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("method "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'POST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//TODO: secret éªŒè¯")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("chunk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" chunk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'end'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// console.log(JSON.parse(data));")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" reqData "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¡®å®šèº«ä»½")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("reqData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pusher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("username "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// coding ä¸ªäººè®¿é—®ä»¤ç‰Œ Access Token ç”¨æˆ·å")]),s._v("\n            res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeHead")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("400")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'noooo!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¡®å®šåˆ†æ”¯ master")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("reqData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ref "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'refs/heads/master'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç¡®å®šä»“åº“")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" repository_name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" reqData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("repository"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("runCommand")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sh'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("repository_name"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v(".sh")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// response")]),s._v("\n          res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeHead")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ok'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'errorï¼š'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeHead")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n          res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'error!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("writeHead")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'no info!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3010")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç«¯å£")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// run command")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("runCommand")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("cmd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" child "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("spawn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cmd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  child"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("buffer")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    response "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" buffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  child"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'end'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br")])]),a("p",[s._v("æ ¸å¿ƒä»£ç æ˜¯ "),a("code",[s._v("runCommand")]),s._v(" å‡½æ•°ï¼ŒserveræœåŠ¡æŽ¥æ”¶è¯·æ±‚å‚æ•°éªŒè¯èº«ä»½ä¸Žä»“åº“ä¿¡æ¯ï¼Œæ»¡è¶³æ¡ä»¶æ‰§è¡Œå¯¹åº”è„šæœ¬ã€‚è¿™é‡Œæ²¡æœ‰åƒ "),a("code",[s._v("github-webhook-handler")]),s._v(" åŒ…ä¸€æ ·å¯¹å¯†åŒ™è¿›è¡Œå¤„ç†éªŒè¯ï¼Œåªæ˜¯ç®€å•çš„éªŒè¯äº†èº«ä»½å’Œæ¡ä»¶ã€‚ï¼ˆgithubã€codingç­‰é…ç½®webhookæ—¶å¯ä»¥è®¾ç½®éªŒè¯ç§˜é’¥ï¼‰")]),s._v(" "),a("p",[s._v("æŽ¥ä¸‹æ¥ç¼–å†™æˆ‘ä»¬çš„bashè„šæœ¬ï¼Œè¿™é‡Œä¹‹åŽå¯ä»¥ä¼˜åŒ–æˆæ‰§è¡Œå¯¹åº”é¡¹ç›®ä¸‹çš„å¯¹åº”è„šæœ¬ï¼ˆå³ å¦‚æžœå­˜åœ¨å¤šä¸ªé¡¹ç›®æˆ–åšå®¢ï¼Œç›¸å…³è„šæœ¬åœ¨å¯¹åº”é¡¹ç›®ä¸‹åˆ›å»ºï¼Œç”±bashæ‰§è¡Œï¼‰ã€‚")]),s._v(" "),a("h3",{attrs:{id:"åˆ›å»ºbashè„šæœ¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºbashè„šæœ¬"}},[s._v("#")]),s._v(" åˆ›å»ºbashè„šæœ¬")]),s._v(" "),a("p",[a("code",[s._v("vuepress.sh")]),s._v("æ ¸å¿ƒä»£ç ")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¡®ä¿è„šæœ¬æŠ›å‡ºé‡åˆ°çš„é”™è¯¯")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/app/vuepress-blog/dist\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'start===>git'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¦†ç›–æ›´æ–°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch --all\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard origin/master\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git clean -f")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git pull")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" - "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é€€å›žå¼€å§‹æ‰€åœ¨ç›®å½•")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("ä¸ºäº†æ–¹ä¾¿è®°å½•å’ŒæŸ¥çœ‹ä»¥åŠæ‹“å±•é€šçŸ¥æ¶ˆæ¯ç­‰ï¼Œè¿™é‡Œå¢žåŠ å¼‚å¸¸åˆ¤æ–­å¤„ç†åŠæ—¥å¿—è¾“å‡º")]),s._v(" "),a("div",{staticClass:"language-diff line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[a("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[a("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" cd - # é€€å›žå¼€å§‹æ‰€åœ¨ç›®å½•\n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" function log_info (){\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v('   DATE_N=`date "+%Y-%m-%d %H:%M:%S"`\n')]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("   USER_N=`whoami`\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v('   echo "${DATE_N} ${USER_N} execute $0 [INFO] $@" >> /usr/local/app/webhook/logInfo.txt #æ‰§è¡ŒæˆåŠŸæ—¥å¿—æ‰“å°è·¯å¾„\n')]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" }\n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" function log_error (){\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v('   DATE_N=`date "+%Y-%m-%d %H:%M:%S"`\n')]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("   USER_N=`whoami`\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v('   echo -e "\\033[41;37m ${DATE_N} ${USER_N} execute $0 [ERROR] $@ \\033[0m"  >> /usr/local/app/webhook/logError.txt #æ‰§è¡Œå¤±è´¥æ—¥å¿—æ‰“å°è·¯å¾„\n')]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" }\n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" if [  $? -eq 0  ]\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" then\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v('   log_info "$@ sucessed."\n')]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v('   echo -e "\\033[32m $@ sucessed. \\033[0m"\n')]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" else\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v('   log_error "$@ failed."\n')]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v('   echo -e "\\033[41;37m $@ failed. \\033[0m"\n')]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("   exit 1\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" fi\n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" trap 'fn_log \"DO NOT SEND CTR + C WHEN EXECUTE SCRIPT !!!! \"'  2\n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" cd - # é€€å›žå¼€å§‹æ‰€åœ¨ç›®å½•\n")])])])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("h3",{attrs:{id:"åˆ›å»ºnginxé…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºnginxé…ç½®"}},[s._v("#")]),s._v(" åˆ›å»ºnginxé…ç½®")]),s._v(" "),a("p",[s._v("nginxé…ç½®")]),s._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¤–ç½‘")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server_name")]),s._v(" webhook.ssscode.com")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åŸŸå")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç›‘å¬æœ¬åœ°æœåŠ¡")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" /")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¼€å¯åå‘ä»£ç†")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_pass")]),s._v(" http://127.0.0.1:3010/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("æ‰§è¡Œ "),a("code",[s._v("node ./webhook.js")]),s._v(" å³å¯å¯åŠ¨æµ‹è¯•~")]),s._v(" "),a("h3",{attrs:{id:"pm2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pm2"}},[s._v("#")]),s._v(" pm2")]),s._v(" "),a("blockquote",[a("p",[s._v("PM2 æ˜¯ node è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥åˆ©ç”¨å®ƒæ¥ç®€åŒ–å¾ˆå¤š nodeåº”ç”¨ç®¡ç†çš„ç¹çä»»åŠ¡ï¼Œå¦‚æ€§èƒ½ç›‘æŽ§ã€è‡ªåŠ¨é‡å¯ã€è´Ÿè½½å‡è¡¡ç­‰ï¼Œè€Œä¸”ä½¿ç”¨éžå¸¸ç®€å•ã€‚"),a("a",{attrs:{href:"https://juejin.cn/post/6844903710037016584",target:"_blank",rel:"noopener noreferrer"}},[s._v("PM2ç®€æ˜“ä½¿ç”¨æ‰‹å†Œ"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("ä¸ºäº†æ›´æ–¹ä¾¿çš„ç®¡ç†NodeJsç¨‹åºä»¥åŠç›‘æŽ§ï¼Œè¿™é‡ŒæŽ¨èä½¿ç”¨ "),a("code",[s._v("pm2 start webhook.js")]),s._v(" å¯åŠ¨æœåŠ¡")]),s._v(" "),a("h3",{attrs:{id:"githubæˆ–giteeç»“åˆwebhook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#githubæˆ–giteeç»“åˆwebhook"}},[s._v("#")]),s._v(" Githubæˆ–Giteeç»“åˆwebhook")]),s._v(" "),a("p",[s._v("å› ä¸ºæˆ‘é‡‡ç”¨çš„æ˜¯"),a("code",[s._v("Coding")]),s._v("ç»“åˆ"),a("code",[s._v("webhook")]),s._v("çš„æ–¹å¼ï¼Œå¦‚æžœæœ‰å°ä¼™ä¼´å¯¹å…¶ä»–æ–¹å¼æ„Ÿå…´è¶£ï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œæ­å»ºï¼ŒåŽŸç†ç±»ä¼¼ï¼Œç›®å‰"),a("code",[s._v("Github")]),s._v("ä¸Ž"),a("code",[s._v("Gitee")]),s._v("ä¹Ÿæœ‰å¼€æºçš„"),a("code",[s._v("npm")]),s._v("åŒ…æä¾›å¿«é€Ÿæ­å»ºwebhooké€šä¿¡æœåŠ¡ã€‚"),a("a",{attrs:{href:"https://github.com/rvagg/github-webhook-handler",target:"_blank",rel:"noopener noreferrer"}},[s._v("github-webhook-handler"),a("OutboundLink")],1),s._v("ã€"),a("a",{attrs:{href:"https://github.com/CloudnuY/gitee-webhook-handler",target:"_blank",rel:"noopener noreferrer"}},[s._v("gitee-webhook-handler"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"ç»“è¯­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[s._v("#")]),s._v(" ç»“è¯­")]),s._v(" "),a("p",[s._v("å¤§åŠŸå‘Šæˆ~")]),s._v(" "),a("p",[s._v("æ€»çš„æ¥è¯´å°±æ˜¯åå¤å°è¯•äº†å¾ˆå¤šæ–¹æ³•ï¼Œæ‘¸ç´¢æ‰¾æ€è·¯ï¼Œå†ä¸æ–­çš„æ”¹è¿›ï¼Œæœ€ç»ˆä¹Ÿæ˜¯å®žçŽ°äº†å½“åˆçš„æƒ³æ³•ï¼Œä¸è¿‡ä¹Ÿç¡®å®žèµ°äº†ä¸å°‘å¼¯è·¯ã€‚åœ¨æ­¤ï¼ŒæŠŠæ•´ä¸ªè¿‡ç¨‹è®°å½•ä¸‹æ¥ï¼Œä¾›è‡ªå·±å‚è€ƒä¹Ÿä¸ºäº†åŠ æ·±ç†è§£ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æœ‰éœ€è¦çš„å°ä¼™ä¼´ï¼Œå°‘èµ°äº›å¼¯è·¯~")]),s._v(" "),a("p",[s._v("å¦‚æžœè‡ªå·±å…¨éƒ¨é…ç½®å„ç§æœåŠ¡ä¸Žä»£ç ä¸šåŠ¡é€»è¾‘ï¼Œä¹Ÿç¡®å®žæŒºèŠ±è´¹æ—¶é—´å’Œç²¾åŠ›çš„ï¼Œæ¶‰åŠçš„æŠ€æœ¯ç‚¹ä¹Ÿæ¯”è¾ƒæ‚ï¼Œå¾ˆå¤šåœ°æ–¹åªèƒ½è¾¾åˆ°å‹‰å¼ºä½¿ç”¨ï¼Œè¿˜å·®å¾—è¿œï¼Œæ•´ä¸ªè¿‡ç¨‹ä¹Ÿæ˜¯è¾¹å­¦ä¹ ä¾¿å°è¯•ã€‚ä¸è¿‡ï¼Œå…¨éƒ¨å¼„å®Œä¹‹åŽï¼Œå¯¹äºŽè‡ªå·±çš„æŠ€æœ¯æˆé•¿ä¸Žä¸šåŠ¡ç†è§£ä¹Ÿæ˜¯å¾ˆæœ‰å¸®åŠ©çš„~")]),s._v(" "),a("p",[s._v("ç±»ä¼¼Hexoè¿™æ ·çš„å¿«é€Ÿæ­å»ºåšå®¢çš„æ¡†æž¶ç”¨èµ·æ¥å€’æ˜¯å¯ä»¥çœä¸å°‘äº‹ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å°è¯•ä¸‹ï¼Œè¿™ä¸ªæˆ‘ä¹Ÿæœ‰åœ¨å¼„ï¼Œä¸è¿‡è¿˜æ²¡è¾¾åˆ°æˆ‘çš„é¢„æœŸæ•ˆæžœï¼Œçœ‹çœ‹ä¹‹åŽæœ‰æ²¡æœ‰å¯å†™çš„ä¸œè¥¿å†åˆ†äº«åˆ†äº«å§")]),s._v(" "),a("p",[s._v("ä¹‹åŽå¯¹äºŽDockerä¹Ÿæ˜¯å¾ˆæœ‰å¿…è¦æ·±å…¥å­¦ä¹ ä¸€ç•ªäº†~")]),s._v(" "),a("h2",{attrs:{id:"_2021-06-08-è¡¥å……"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2021-06-08-è¡¥å……"}},[s._v("#")]),s._v(" 2021.06.08 è¡¥å……")]),s._v(" "),a("p",[s._v("ä½¿ç”¨ "),a("code",[s._v("Travis")]),s._v(" ç»“åˆ "),a("code",[s._v("sshpass")]),s._v(" å·¥å…·å®žçŽ°æœ¬æœºæ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚")]),s._v(" "),a("p",[s._v(".travis.yml")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("language")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node_js\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node_js")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branchs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" master\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("addons")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("packages")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" sshpass\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm install"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run build"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("after_success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./deploy.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("deploy.sh")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¡®ä¿è„šæœ¬æŠ›å‡ºé‡åˆ°çš„é”™è¯¯")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‰“åŒ…é™æ€èµ„æº")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å°†distæ–‡ä»¶å‘é€åˆ°è¿œç¨‹")]),s._v("\nsshpass -p "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${serverPass}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -o "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("stricthostkeychecking")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("no -r dist/ root@"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${serverIP}")]),s._v(":/home/web/movie-trailer\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("ä¼˜ç‚¹ï¼šæ–¹ä¾¿å¿«æ·")]),s._v(" "),a("p",[s._v("ç¼ºç‚¹ï¼šä½¿ç”¨ sshpass æ˜¯æœ€ä¸å®‰å…¨çš„ï¼Œå› ä¸ºæ‰€æœ‰ç³»ç»Ÿä¸Šçš„ç”¨æˆ·åœ¨å‘½ä»¤è¡Œä¸­é€šè¿‡ç®€å•çš„ â€œpsâ€ å‘½ä»¤å°±å¯çœ‹åˆ°å¯†ç ã€‚")]),s._v(" "),a("h2",{attrs:{id:"å‚è€ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒ"}},[s._v("#")]),s._v(" å‚è€ƒ")]),s._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://coding.net/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://coding.net/"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://docs.github.com/cn/actions",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.github.com/cn/actions"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://xugaoyi.com/pages/6b9d359ec5aa5019/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://xugaoyi.com/pages/6b9d359ec5aa5019/"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://docs.github.com/cn/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.github.com/cn/github/authenticating-to-github/creating-a-personal-access-token"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://help.coding.net/docs/member/tokens.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://help.coding.net/docs/member/tokens.html"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://ipcmen.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://ipcmen.com/"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/07/yaml.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.ruanyifeng.com/blog/2016/07/yaml.html"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.cn/post/6844903710037016584",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://juejin.cn/post/6844903710037016584"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://linux.cn/article-8086-1.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://linux.cn/article-8086-1.html"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://bbs.huaweicloud.com/blogs/152237",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://bbs.huaweicloud.com/blogs/152237"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{544:function(t,s,a){"use strict";a.r(s);var n=a(43),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/JS-banana/images/vuepress/mte-hint-3.gif",alt:"$æ™ºèƒ½æç¤ºgif"}})]),t._v(" "),a("p",[t._v("å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ŒMulti-function Text Editor, ç®€ç§° MTE, æ˜¯ä¸€ç§å¯å†…åµŒäºæµè§ˆå™¨ï¼Œå¯ä»¥å¯¹æ–‡å­—ã€å›¾ç‰‡ç­‰è¿›è¡Œç¼–è¾‘çš„ï¼Œæ‰€è§å³æ‰€å¾—çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚")]),t._v(" "),a("p",[t._v("åœ¨é˜…è¯»æœ¬æ–‡å‰ï¼Œå»ºè®®å…ˆäº†è§£ä¸‹**é€‰åŒº(Selection)"),a("strong",[t._v("å’Œ")]),t._v("èŒƒå›´(Range)**çš„åŸºæœ¬æ¦‚å¿µï¼Œå› ä¸ºï¼Œæœ¬æ–‡æ‰€æè¿°çš„åŠŸèƒ½ä¸»è¦åŸºäºå…‰æ ‡é€‰åŒºçš„å±æ€§å’Œæ–¹æ³•å®ç°ï¼Œåé¢çš„ä»£ç ä¸­ä¼šå¤šæ¬¡å‡ºç°ï¼Œæå‰äº†è§£è¿™äº›çŸ¥è¯†æœ‰åŠ©äºæ›´å¥½çš„é˜…è¯»å’Œç†è§£æœ¬æ–‡å†…å®¹ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« "),a("a",{attrs:{href:"https://juejin.cn/post/6844903508446019597",target:"_blank",rel:"noopener noreferrer"}},[t._v("åˆ©ç”¨ javascript å®ç°å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),a("p",[t._v("å‰æ®µæ—¶é—´ï¼Œæ¥åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œå®ç°ä¸€ä¸ªé‚®ä»¶çš„æ¨¡æ¿ç¼–è¾‘åŠŸèƒ½ï¼Œå¯¹äºå‰ç«¯æ¥è¯´ï¼Œå°±æ˜¯ç”¨æˆ·å¯ä»¥åœ¨ç°æœ‰çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ’å…¥å˜é‡ï¼Œå…·ä½“è¡¨ç°å°±æ˜¯ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("åœ¨ç¼–è¾‘å™¨ä¸­é€šè¿‡ "),a("code",[t._v("$")]),t._v(" å…³é”®å­—è§¦å‘ï¼Œå¼¹å‡ºä¸€ä¸ªç±»ä¼¼ Select é€‰æ‹©æ¡†çš„å¼¹çª—ï¼Œæä¾›é€‰æ‹©æŒ‡å®šå˜é‡")]),t._v(" "),a("li",[t._v("åœ¨é€‰æ‹©å˜é‡ä¹‹åï¼Œåœ¨ç¼–è¾‘å™¨ä¸­ä»¥ "),a("code",[t._v("${xx}")]),t._v(" è¿™ç§å½¢å¼ä¿å­˜ï¼Œå¹¶ä¸”ä»¥ä¸åŒé¢œè‰²é«˜äº®åŒºåˆ«")])]),t._v(" "),a("p",[t._v("ä¸šåŠ¡ä¸Šçš„è¡¨ç°æ˜¯è¿™æ ·çš„ï¼Œåœ¨é€»è¾‘è§¦å‘æ—¶ï¼Œåç«¯é€šè¿‡ "),a("code",[t._v("${xx}")]),t._v(" å»ç­›é€‰æ›¿æ¢å˜é‡ä¸ºå¯¹åº”çš„å€¼ï¼Œç„¶åå‘é€é‚®ä»¶åˆ°å¯¹åº”çš„ç”¨æˆ·ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/JS-banana/images/emoji/3.jpg",alt:"emoji"}})]),t._v(" "),a("h2",{attrs:{id:"åŠŸèƒ½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½"}},[t._v("#")]),t._v(" åŠŸèƒ½")]),t._v(" "),a("p",[t._v("ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬ç›®å‰è®¾è®¡äº†è¿™å‡ ä¸ªåŠŸèƒ½ç‚¹ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("åœ¨ä¸å½±å“å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„åŸºæœ¬åŠŸèƒ½ä¸‹ï¼Œé€šè¿‡æŒ‰é”® "),a("code",[t._v("$")]),t._v(" è§¦å‘é€‰æ‹©æ¡†å¼¹å‡º")]),t._v(" "),a("li",[t._v("é€‰ä¸­çš„åˆ—è¡¨é¡¹ï¼Œä¼šä»¥ "),a("code",[t._v("${xx}")]),t._v(" è¿™ç§å½¢å¼è‡ªåŠ¨æ’å…¥åˆ°ç¼–è¾‘å™¨çš„å½“å‰é€‰åŒºä¸­")]),t._v(" "),a("li",[t._v("æ’å…¥åˆ°ç¼–è¾‘å™¨ä¸­çš„å˜é‡ä»¥ "),a("code",[t._v("${xx}")]),t._v(" è¿™ç§å½¢å¼ä¿å­˜ï¼Œå¹¶ä¸”æ”¯æŒé«˜äº®æ˜¾ç¤º")]),t._v(" "),a("li",[t._v("æ”¯æŒ "),a("code",[t._v("${xx}")]),t._v(" ä¸­å˜é‡çš„åŠ¨æ€æ¨¡ç³ŠæŸ¥è¯¢ï¼ˆä¾‹å¦‚ï¼šå½“ä½ åœ¨ "),a("code",[t._v("${}")]),t._v(" ä¸­è¾“å…¥ "),a("code",[t._v("send")]),t._v(" æ—¶ï¼Œåˆ—è¡¨ä¸­çš„ "),a("code",[t._v("sendTime")]),t._v("ã€"),a("code",[t._v("sendCount")]),t._v(" åº”è¯¥æ˜¯åŒ¹é…åœ¨åˆ—è¡¨ä¸­çš„ ï¼‰")]),t._v(" "),a("li",[t._v("æ”¯æŒå¯¹ "),a("code",[t._v("${xx}")]),t._v(" çš„å˜é‡è¯†åˆ«å“åº”ï¼ˆä¾‹å¦‚ï¼šå…‰æ ‡ä»å…¶ä»–ä½ç½®ç§»åŠ¨åˆ° "),a("code",[t._v("${}")]),t._v(" ä¸­æ—¶ï¼Œä¼šå®æ—¶åœ°å“åº”åŒ¹é…å…¶ä¸­çš„å˜é‡ï¼‰")]),t._v(" "),a("li",[t._v("æ”¯æŒé”®ç›˜é€‰æ‹©ï¼Œåœ¨ä¸ä½¿ç”¨é¼ æ ‡çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥è‡ªç”±é€‰æ‹©\n")])]),t._v(" "),a("h2",{attrs:{id:"å…³é”®å­—è§¦å‘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…³é”®å­—è§¦å‘"}},[t._v("#")]),t._v(" $ å…³é”®å­—è§¦å‘")]),t._v(" "),a("p",[t._v("å¦‚ä½•ç›‘å¬ "),a("code",[t._v("$")]),t._v(" å…³é”®å­—ï¼Œè¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œé€šè¿‡ç›‘å¬é”®ç›˜äº‹ä»¶å°±å¯ä»¥å®ç°ï¼Œåœ¨åŒ¹é…åˆ° "),a("code",[t._v("$")]),t._v(" æ—¶ï¼Œè§¦å‘å¯¹åº”é€»è¾‘å³å¯ï¼Œä¸è¿‡ï¼Œè¿™é‡Œé‡ç‚¹å…¶å®æ˜¯å®ç° "),a("code",[t._v("${}")]),t._v("ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("å˜é‡éœ€è¦ä»¥ "),a("code",[t._v("${xx}")]),t._v(" è¿™ç§å½¢å¼ä¿å­˜ï¼Œè€Œä¸”å‰ç«¯ä¹Ÿéœ€è¦é€šè¿‡ "),a("code",[t._v("{}")]),t._v(" å»éš”ç¦»åŒä¸€è¡Œå†…çš„å…¶ä»–å˜é‡ï¼Œä»è€ŒåŒºåˆ†å½“å‰å˜é‡ã€‚")])]),t._v(" "),a("p",[t._v("åœ¨æ£€æµ‹åˆ° "),a("code",[t._v("$")]),t._v(" å­—ç¬¦æ—¶ï¼Œè‡ªåŠ¨æŠŠ "),a("code",[t._v("{}")]),t._v(" æ‹¼æ¥ä¸Šï¼Œå¹¶ä¸”æŠŠå…‰æ ‡ç§»åŠ¨åˆ° "),a("code",[t._v("${}")]),t._v(" ä¹‹ä¸­ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘ä»¥å…¬å¸ä½¿ç”¨çš„ wangeditor v4 ç‰ˆæœ¬ä¸ºä¾‹ï¼Œä¸è¿‡ï¼Œæœ¬æ–‡æ‰€æåˆ°çš„åŠŸèƒ½å®ç°ä¸å±€é™äºæŸä¸€å›ºå®šæ¡†æ¶ï¼Œä¸»è¦æ˜¯åŸºäºåŸç”Ÿå®ç°ã€‚")]),t._v(" "),a("h3",{attrs:{id:"é¡µé¢ä»£ç åŸºæœ¬ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¡µé¢ä»£ç åŸºæœ¬ç»“æ„"}},[t._v("#")]),t._v(" é¡µé¢ä»£ç åŸºæœ¬ç»“æ„")]),t._v(" "),a("p",[t._v("DOMç»“æ„")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ç¼–è¾‘å™¨å¤–å±‚å®¹å™¨ --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("editorâ€”wrapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("toolbar-container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- å·¥å…·æ  --\x3e")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("editorBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text-container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ç¼–è¾‘å™¨ --\x3e")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- å¼¹çª— --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("tipRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-show")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("isShow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("tip-wrap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("æˆ‘æ˜¯å¼¹çª—"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("JSç›¸å…³ä»£ç ")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" onMounted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onUnmounted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reactive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" shallowRef "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wangeditor'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOM ç›¸å…³")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" editor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shallowRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// wangeditorç¼–è¾‘å™¨å®ä¾‹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" editorBox "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shallowRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¼–è¾‘å™¨DOM")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" tipRef "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shallowRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹çª—DOM")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å“åº”å¼æ•°æ®ç›¸å…³")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isShow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹çª—å¼€å…³")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" boxTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹çª— top å€¼ï¼ˆä¸ºäº†å¼¹çª—å§‹ç»ˆè·Ÿéšå…‰æ ‡æ‰€åœ¨ä½ç½®ï¼Œé»˜è®¤42ä¸ºå¯Œæ–‡æœ¬å·¥å…·æ çš„é«˜åº¦ï¼‰")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é”®ç›˜æŒ‰é”®ç›¸å…³")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" keywordObj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reactive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("currentStr")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ${} ä¸­å½“å‰å·²è¾“å…¥çš„å˜é‡å­—ç¬¦")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("isDoing")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŒ‰é”®æ˜¯å¦ä¸ºæ“ä½œä¸­")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("isDeleteKey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦ä¸ºåˆ é™¤é”®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Mounted")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMounted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–ç¼–è¾‘å™¨")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initEditor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–äº‹ä»¶")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initEvents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onUnmounted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// clear")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearEvents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initEditor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  editor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("E")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#toolbar-container'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#text-container'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  editor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initEvents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç‚¹å‡»éå¼¹çª—åŒºåŸŸï¼Œå…³é—­å¼¹çª—")]),t._v("\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" windowClickClose"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œéœ€è¦ä½¿ç”¨ keyup é”®ç›˜äº‹ä»¶ï¼ˆ${}ï¼‰ï¼Œkeydown äº‹ä»¶åœ¨å¤„ç†$å…³é”®å­—æ—¶ä¼šå¯¼è‡´ {$} ä½ç½®é”™è¯¯")]),t._v("\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keyup'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onWindowKeyUp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// selection")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'selectionchange'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" selectionchange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨å¼¹çª—å¼€å¯æ—¶ï¼Œé˜»æ­¢å¯¹åº”é”®ç›˜æ“ä½œå½±å“ç¼–è¾‘å™¨")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keydown'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onWindowKeyDown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br")])]),a("h3",{attrs:{id:"ç»‘å®škeyupäº‹ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»‘å®škeyupäº‹ä»¶"}},[t._v("#")]),t._v(" ç»‘å®škeyupäº‹ä»¶")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ keydownï¼Œå’Œä»–ä»¬çš„è§¦å‘æ—¶æœºæœ‰å…³ï¼Œç»“åˆåé¢æ¶‰åŠåˆ°çš„å…¶ä»–é€»è¾‘ï¼Œè¿™é‡Œé€‰æ‹©äº†keyupæ›´ä¸ºåˆç†ã€‚")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keyup'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onWindowKeyUp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨é˜²æŠ–å‡½æ•° debounce ä¼˜åŒ–ï¼ŒåŒæ—¶é¿å… {} é‡å¤æ’å…¥")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" onWindowKeyUp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debounce")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ev")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log('key', ev.key)")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// isShow.value=true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" selection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSelection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" range "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRangeAt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" textNode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startContainer\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–å…‰æ ‡ä½ç½®")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rangeStartOffeset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startOffset\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨ $ åé¢æ’å…¥ {}")]),t._v("\n    textNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rangeStartOffeset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç§»åŠ¨å…‰æ ‡ä½ç½®")]),t._v("\n    range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("textNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rangeStartOffeset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("collapse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeAllRanges")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ’å…¥æ–°çš„å…‰æ ‡å¯¹è±¡")]),t._v("\n    selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addRange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br")])]),a("p",[t._v("ç›®å‰è¯¥å‡½æ•°å¯ä»¥å®ç°åœ¨æŒ‰ä¸‹ "),a("code",[t._v("$")]),t._v(" æŒ‰é”®åï¼Œè¾“å…¥ "),a("code",[t._v("${}")]),t._v(" å¹¶ä¸”å…‰æ ‡åœ¨èŠ±æ‹¬å·ä¹‹ä¸­ã€‚")]),t._v(" "),a("p",[t._v("æŒ‰ç…§è®¾æƒ³ï¼Œè¿™æ—¶åº”è¯¥å†è‡ªåŠ¨è§¦å‘ "),a("code",[t._v("isShow.value=true")]),t._v("ï¼Œå¼€å¯å¼¹çª—çš„é€»è¾‘ï¼Œä½†æ˜¯ï¼Œå› ä¸ºåœ¨åé¢çš„å®è·µè¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°è¿™ç§æ–¹å¼å¹¶ä¸æ˜¯æœ€ä¼˜è§£ï¼Œæ¶‰åŠåˆ°åŒ¹é…é€»è¾‘å’Œç”¨æˆ·ä½“éªŒçš„é—®é¢˜ï¼Œå› æ­¤ï¼Œå¼¹çª—çš„é€»è¾‘æˆ‘è¿™é‡Œè¿›è¡Œäº†è°ƒæ•´ï¼Œæ”¾åˆ°äº† "),a("code",[t._v("selectionchange")]),t._v(" äº‹ä»¶ä¸­è¿›è¡Œå¤„ç†ï¼Œè¯·è€å¿ƒå¾€ä¸‹çœ‹ğŸ˜")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/JS-banana/images/emoji/2.jpg",alt:"emoji"}})]),t._v(" "),a("h2",{attrs:{id:"é€‰ä¸­é¡¹è‡ªåŠ¨æ’å…¥åˆ°ç¼–è¾‘å™¨ä¸­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€‰ä¸­é¡¹è‡ªåŠ¨æ’å…¥åˆ°ç¼–è¾‘å™¨ä¸­"}},[t._v("#")]),t._v(" é€‰ä¸­é¡¹è‡ªåŠ¨æ’å…¥åˆ°ç¼–è¾‘å™¨ä¸­")]),t._v(" "),a("p",[t._v("é€‰ä¸­çš„åˆ—è¡¨é¡¹ï¼Œä¼šä»¥ "),a("code",[t._v("${xx}")]),t._v(" è¿™ç§å½¢å¼è‡ªåŠ¨æ’å…¥åˆ°ç¼–è¾‘å™¨çš„å½“å‰é€‰åŒºä¸­")]),t._v(" "),a("p",[t._v("ç®€å•å†™ä¸ªåˆ—è¡¨ï¼ŒDOMç»“æ„å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- å¼¹çª— --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("tipRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-show")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("isShow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("tip-wrap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item in listData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":data-value")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      {{ `${item.label}(${item.value})` }}\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œæˆ‘ä»¬æŠŠç‚¹å‡»äº‹ä»¶æ‰˜ç®¡åœ¨çˆ¶èŠ‚ç‚¹DOMä¸Š")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ—è¡¨ç‚¹å‡»äº‹ä»¶")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tipRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  tipRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onOlClick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onOlClick")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ev")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataset\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertField")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("è¯·æ€è€ƒä¸‹ï¼Œå½“æˆ‘ä»¬åœ¨é€‰ä¸­ç›®æ ‡é€‰é¡¹åï¼Œå¦‚ä½•æŠŠ value ä»¥ "),a("code",[t._v("${value}")]),t._v(" è¿™ç§å½¢å¼è‡ªåŠ¨æ’å…¥åˆ°ç¼–è¾‘å™¨çš„å½“å‰é€‰åŒºä¸­ï¼Ÿ")]),t._v(" "),a("h3",{attrs:{id:"document-execcommand-æ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#document-execcommand-æ–¹æ³•"}},[t._v("#")]),t._v(" document.execCommand æ–¹æ³•")]),t._v(" "),a("p",[t._v("å½“ä¸€ä¸ªdivå…ƒç´ è¢«æ·»åŠ "),a("code",[t._v("contenteditable")]),t._v("å±æ€§ä¸”ä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºå…ƒç´ å¯è¢«ç”¨æˆ·ç¼–è¾‘ï¼ˆå¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„åŸºæœ¬é€»è¾‘ï¼‰")]),t._v(" "),a("p",[a("code",[t._v("document.execCommand")]),t._v(" å‘½ä»¤æ˜¯æµè§ˆå™¨æä¾›çš„APIï¼Œè¯¥æ–¹æ³•å…è®¸è¿è¡Œå‘½ä»¤æ¥æ“çºµå¯ç¼–è¾‘å†…å®¹åŒºåŸŸçš„å…ƒç´ ï¼ˆæ¯”å¦‚åŠ ç²—ã€ä¸‹åˆ’çº¿ç­‰ç­‰ï¼‰ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("document.execCommand æ–¹æ³•è™½ç„¶ä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒï¼Œä½†ç°åœ¨å®˜æ–¹å·²ä¸å†æ¨èä½¿ç”¨ï¼Œç›¸å…³åˆ†æå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« "),a("a",{attrs:{href:"https://juejin.cn/post/6955335319566680077",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ‰ å¯Œæ–‡æœ¬ç¼–è¾‘å™¨åˆæ¢"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("åˆ†ææºç å¯çŸ¥ï¼Œwangeditor v4ç‰ˆæœ¬åŠä»¥ä¸‹æ˜¯åŸºäºè¯¥å±æ€§æ–¹æ³•å®ç°çš„ï¼Œè€Œ v5.x ç‰ˆæœ¬å†…æ ¸å·²ç»å®Œå…¨é‡æ„ï¼Œç°åœ¨æ˜¯åŸºäº slate.js å¼€å‘çš„")])]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯ä»¥è¿™ä¸ªæ–¹æ¡ˆç¼–å†™ç”¨ä¾‹è¿›è¡Œåˆ†æï¼Œä¸»è¦è®²è§£ä¸‹åŸºæœ¬æ€è·¯ï¼Œå…ˆå®ç° "),a("code",[t._v("insertField")]),t._v(" æ’å…¥æ–¹æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertField")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ï¼Œè¿™é‡Œåˆ é™¤ } å­—ç¬¦")]),t._v("\n  editor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cmd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("do")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'forwardDelete'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–ä½ç½®")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" startOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSelection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("focusOffset\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“ ${} ä¸­å­˜åœ¨å·²è¾“å…¥çš„åŒ¹é…å­—ç¬¦æ—¶ï¼Œéœ€è¦è®¡ç®—å¯¹åº”å­—ç¬¦é•¿åº¦")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keyword_str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    startOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSelection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("focusOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" keyword_str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  startOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®— ${ 2ä¸ªå­—ç¬¦")]),t._v("\n  startOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" startOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" startOffset "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸å¯ä¸º è´Ÿæ•°")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é‡æ–°è®¾ç½®é€‰åŒºä½ç½®")]),t._v("\n  document\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSelection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRangeAt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSelection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("focusNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      startOffset\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ’å…¥å†…å®¹")]),t._v("\n  editor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cmd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("do")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'insertHTML'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('<span style="color: blue;">\\${')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("}</span>")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ’å…¥ç©ºç™½å ä½ç¬¦")]),t._v("\n  editor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createEmptyRange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br")])]),a("p",[t._v("ç»“åˆä»£ç ï¼Œç®€å•æ¢³ç†ä¸‹é€»è¾‘ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("åœ¨é€‰ä¸­åˆ—è¡¨ä¸­çš„æŸä¸€é¡¹æ—¶ï¼Œä¼ å…¥ "),a("code",[t._v("value")]),t._v("ï¼Œè°ƒç”¨ "),a("code",[t._v("insertField")]),t._v(" æ–¹æ³•")]),t._v(" "),a("li",[t._v("æŠŠ"),a("code",[t._v("value")]),t._v("é€šè¿‡ "),a("code",[t._v("${}")]),t._v(" è¿›è¡ŒåŒ…è£¹ï¼Œå¾—åˆ° "),a("code",[t._v("${value}")]),t._v(" è¿™ç§å½¢å¼ï¼ŒåŒæ—¶ä»¥ "),a("code",[t._v("span")]),t._v(" æ ‡ç­¾è¿›è¡ŒåŒ…è£¹ï¼Œä»¥å®ç°å­—ç¬¦éš”ç¦»ä¸é¢œè‰²é«˜äº®")]),t._v(" "),a("li",[t._v("æŠŠæœ€ç»ˆæ–‡æœ¬æ’å…¥åˆ°ç¼–è¾‘å™¨ä¸­\n"),a("ul",[a("li",[t._v("è¿™é‡Œçš„é‡ç‚¹æ˜¯å¦‚ä½•æ°å¥½æ›¿æ¢ç¼–è¾‘å™¨ä¸­çš„ ${} æ–‡æœ¬ï¼Œé€šè¿‡ "),a("code",[t._v("Range")]),t._v(" å¯¹è±¡çš„ "),a("code",[t._v("setStart")]),t._v(" æ–¹æ³•ï¼Œå¯ä»¥é‡æ–°è®¾ç½®èµ·å§‹ä½ç½®")]),t._v(" "),a("li",[t._v("è¿™é‡Œè®¡ç®— "),a("code",[t._v("${}")]),t._v(" çš„å‰2ä¸ªå­—ç¬¦ï¼Œå¾—åˆ° -2 çš„ç»“æœï¼ŒåŒæ—¶åˆ é™¤æœ«å°¾çš„ "),a("code",[t._v("}")]),t._v(" å­—ç¬¦ï¼Œç„¶åå†æŠŠç»“æœé‡æ–°æ’å…¥åˆ°ç¼–è¾‘å™¨ä¸­å³å¯")])])])]),t._v(" "),a("p",[a("code",[t._v("editor.cmd.do")]),t._v(" æ˜¯ wangeditor åŸºäº "),a("code",[t._v("document.execCommand")]),t._v(" æ–¹æ³•åšçš„ä¸€å±‚å°è£…ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œç›¸å…³ä»£ç è§ "),a("a",{attrs:{href:"https://github1s.com/wangeditor-team/wangEditor/blob/v4.7.13/src/editor/command.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("wangEditor/blob/v4.7.13/src/editor/command.ts"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("å¯¹äºæœ€åä¸€è¡Œçš„ï¼Œæ’å…¥ç©ºç™½å ä½ç¬¦ "),a("code",[t._v("createEmptyRange")]),t._v(" ä»£ç ç®€è¦è¯´æ˜ä¸‹ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("å¯Œæ–‡æœ¬ç¼–è¾‘å™¨é»˜è®¤æ˜¯é€šè¿‡ "),a("code",[t._v("<br>")]),t._v(" å……å½“ä¸€ä¸ªç©ºå ä½ç¬¦çš„ï¼Œåˆå§‹ç»“æ„ä¸€èˆ¬æ˜¯ "),a("code",[t._v("<p><br></p>")]),t._v("ï¼ŒF12æŸ¥çœ‹DOMç»“æ„å¯çŸ¥ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ˜¯æ— æ„Ÿçš„ï¼ˆ"),a("br"),t._v("æ ‡ç­¾ç”¨æ¥å ä½ï¼Œæœ‰å†…å®¹è¾“å…¥åä¼šè‡ªåŠ¨åˆ é™¤ï¼‰")]),t._v(" "),a("li",[t._v("åœ¨å¯ç¼–è¾‘çŠ¶æ€ä¸‹ï¼Œå›è½¦æ¢è¡Œäº§ç”Ÿçš„æ–°ç»“æ„ä¼šé»˜è®¤æ‹·è´ä¹‹å‰çš„å†…å®¹ï¼ŒåŒ…æ‰©èŠ‚ç‚¹ï¼Œç±»åç­‰å„ç§å†…å®¹")])]),t._v(" "),a("p",[t._v("è¿™é‡Œæ’å…¥ç©ºç™½å ä½ç¬¦çš„ä¸»è¦ä½œç”¨ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("æŠŠå…‰æ ‡ç§»å‡ºåˆ°åŒ…è£¹å˜é‡çš„ span æ ‡ç­¾å¤–é¢")]),t._v(" "),a("li",[t._v("ç¼–è¾‘å™¨å†…å›è½¦æ¢è¡Œä¸ä¼šå¤åˆ¶ span æ ‡ç­¾å½±å“å†…å®¹ç¼–è¾‘")])]),t._v(" "),a("blockquote",[a("p",[t._v("wangeditor ä¸­å¯¹äº "),a("code",[t._v("createEmptyRange")]),t._v(" çš„å®ç°ï¼Œä¸»è¦é€»è¾‘ä¸º "),a("code",[t._v("editor.cmd.do('insertHTML', '&#8203;')")])])]),t._v(" "),a("h2",{attrs:{id:"æ”¯æŒå˜é‡çš„åŠ¨æ€æ¨¡ç³ŠæŸ¥è¯¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ”¯æŒå˜é‡çš„åŠ¨æ€æ¨¡ç³ŠæŸ¥è¯¢"}},[t._v("#")]),t._v(" æ”¯æŒå˜é‡çš„åŠ¨æ€æ¨¡ç³ŠæŸ¥è¯¢")]),t._v(" "),a("p",[t._v("å¯é€‰åˆ—è¡¨ï¼Œå½“å­˜åœ¨å¾ˆå¤šæ¡æ•°æ®æ—¶ï¼Œå†é€šè¿‡é¼ æ ‡ä¸€ä¸ªä¸ªæ‰¾å°±å¾ˆä¸å‹å¥½äº†ï¼Œå› æ­¤ï¼Œæ¨¡ç³ŠæŸ¥è¯¢ä¹Ÿæ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œé‚£ä¹ˆï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è®¾è®¡å’Œå®ç°å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œéœ€è¦ç¡®å®šçš„æ˜¯å¦‚ä½•é”å®šè¾“å…¥åŒºåŸŸï¼Œæœ‰è¿™ä¹ˆå‡ ç§æƒ…å†µï¼š")]),t._v(" "),a("ol",[a("li",[t._v("åœ¨ç¼–è¾‘å™¨æ–‡æœ¬æœ«å°¾è¾“å…¥")]),t._v(" "),a("li",[t._v("åœ¨ç¼–è¾‘å™¨ä»»æ„ä¸€è¡Œçš„ä»»æ„ä½ç½®è¾“å…¥")])]),t._v(" "),a("p",[t._v("å› ä¸ºå¯¹æ–‡æœ¬å†…ä»»æ„ä½ç½®æ’å…¥ç¼–è¾‘æ—¶éš¾ä»¥ç¡®å®šå…¶ä½ç½®ï¼Œè¿™é‡Œæˆ‘ä»¬æ’é™¤äº†ç¼–è¾‘å™¨çš„ "),a("code",[t._v("onChange")]),t._v(" æ–¹æ³•ã€‚")]),t._v(" "),a("p",[t._v("åœ¨é€šè¿‡é¼ æ ‡æˆ–è€…é”®ç›˜ç§»åŠ¨å…‰æ ‡æ—¶ï¼Œå½“å…‰æ ‡å¤„äºå˜é‡åŒºåŸŸèŒƒå›´æ—¶ï¼Œä¸ºäº†èƒ½å¤Ÿæœ‰æ›´å¥½çš„äº¤äº’å“åº”ï¼Œæˆ‘é€‰æ‹©äº† "),a("code",[t._v("selectionchange")]),t._v(" äº‹ä»¶ï¼ˆç¼–è¾‘åŒºå†…å®¹ä¸å…‰æ ‡æ”¹å˜æ—¶ä¼šè§¦å‘ï¼‰ï¼Œå¯ä»¥å®æ—¶ç›‘å¬å…‰æ ‡ï¼Œè¿™æ ·å¯ä»¥æ›´å¥½çš„æ§åˆ¶å…‰æ ‡è·Ÿéšé€»è¾‘ã€‚")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'selectionchange'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" selectionchange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectionchange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" selection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSelection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" range "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRangeAt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log('range', range)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("é€šè¿‡ selection å¯¹è±¡è·å¾—çš„ range å¯¹è±¡æ‰æ˜¯æˆ‘ä»¬æ“ä½œå…‰æ ‡çš„é‡ç‚¹ï¼ˆRangeè¡¨ç¤ºåŒ…å«èŠ‚ç‚¹å’Œéƒ¨åˆ†æ–‡æœ¬èŠ‚ç‚¹çš„æ–‡æ¡£ç‰‡æ®µï¼‰ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/JS-banana/images/emoji/5.jpg",alt:"emoji"}})]),t._v(" "),a("h3",{attrs:{id:"_1-ç¡®å®šå…‰æ ‡ä½ç½®ï¼ŒæŸ¥æ‰¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç¡®å®šå…‰æ ‡ä½ç½®ï¼ŒæŸ¥æ‰¾"}},[t._v("#")]),t._v(" 1. ç¡®å®šå…‰æ ‡ä½ç½®ï¼ŒæŸ¥æ‰¾ ${}")]),t._v(" "),a("p",[t._v("Rangeå¯¹è±¡çš„ "),a("code",[t._v("startContainer")]),t._v(" , "),a("code",[t._v("endContainer")]),t._v(", "),a("code",[t._v("commonAncestorContainer")]),t._v("éƒ½ä¸º "),a("code",[t._v("#text")]),t._v(" æ–‡æœ¬èŠ‚ç‚¹ï¼Œå¯¹äºæˆ‘ä»¬çš„åœºæ™¯æ¥è¯´å¹¶æ— æ˜æ˜¾åŒºåˆ«ï¼Œè¿™é‡Œæˆ‘ä»¬åªæŸ¥æ‰¾ "),a("code",[t._v("${}")]),t._v(" åŒ…è£¹çš„æƒ…å†µï¼Œä¸è€ƒè™‘è·¨å¤šä¸ªæ–‡æœ¬èŠ‚ç‚¹çš„å¤æ‚åœºæ™¯ï¼Œåªå›´ç»•å½“å‰å•ä¸ªæ–‡æœ¬èŠ‚ç‚¹å¤„ç†å³å¯ã€‚")]),t._v(" "),a("p",[a("code",[t._v("startOffset")]),t._v(" å’Œ "),a("code",[t._v("endOffset")]),t._v(" åœ¨éæ‰˜é€‰çš„æƒ…å†µä¸‹ï¼Œèµ·å§‹å’Œç»ˆç‚¹å€¼æ˜¯ä¸€æ ·çš„ï¼Œå¯¹äºæ‹–é€‰æƒ…å†µæ¥è¯´ï¼Œæˆ‘ä»¬çš„å¤„ç†æ–¹å¼ä¹Ÿæ²¡ä»€ä¹ˆåŒºåˆ«ï¼ˆæ‹–é€‰çš„åœºæ™¯åŸºæœ¬ä¹Ÿå¯ä»¥ä¸ç”¨è€ƒè™‘ï¼‰")]),t._v(" "),a("p",[t._v("ä»€ä¹ˆæ˜¯æ‹–é€‰ã€æ‹–è“ï¼Ÿ")]),t._v(" "),a("ul",[a("li",[t._v("æ— æ‹–è“")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/11/3/aefdf72accf2841e45ccfe858642e5a7~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp",alt:"æ— æ‹–é€‰"}})]),t._v(" "),a("ul",[a("li",[t._v("æœ‰æ‹–è“")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/11/3/99754c9c079ef1ea9d87bdd30cb34ce3~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp",alt:"æœ‰æ‹–è“"}})]),t._v(" "),a("p",[a("strong",[t._v("æˆ‘å½“å‰çš„å…‰æ ‡æ˜¯å¦å¤„äº ${} ä¹‹ä¸­ï¼Ÿ")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/JS-banana/images/vuepress/mte-hint-4.gif",alt:"$æ™ºèƒ½æç¤ºgif"}})]),t._v(" "),a("p",[t._v("æ¢ä¸ªè§’åº¦æ€è€ƒï¼Œæˆ‘ä»¬çœ‹ä¸‹å…‰æ ‡å¤„äº ${} ä¹‹ä¸­æ˜¯æ€æ ·çš„ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("å…‰æ ‡çš„å·¦è¾¹åº”è¯¥æ˜¯ ${")]),t._v(" "),a("li",[t._v("å…‰æ ‡çš„å³è¾¹åº”è¯¥æ˜¯ }")]),t._v(" "),a("li",[t._v("éœ€è¦è€ƒè™‘èŒƒå›´ï¼Œä¸€è¡Œä¸­ä¹Ÿå¯èƒ½å­˜åœ¨å¤šä¸ªå˜é‡")])]),t._v(" "),a("blockquote",[a("p",[t._v("å›å¿†ä¸‹ä¸Šé¢çš„é”®ç›˜äº‹ä»¶ä»£ç  onWindowKeyUp ï¼Œåœ¨è§¦å‘ $ æ—¶ï¼Œè‡ªåŠ¨æ‹¼æ¥äº† {} ï¼Œä»è€Œå®Œæˆäº† ${} è¿™æ ·çš„ç»„åˆï¼Œè¿™æ ·å¯ä»¥å¾ˆå¥½çš„ä¿è¯ç”¨æˆ·è¾“å…¥çš„ä¸€è‡´æ€§ï¼Œæ–¹ä¾¿æˆ‘ä»¬åé¢çš„è¯†åˆ«å¤„ç†ã€‚")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–å½“å‰æ–‡æœ¬èŠ‚ç‚¹çš„ value")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commonAncestorContainer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åªæœ‰åœ¨å½“å‰æ–‡æœ¬åŒ…å«æœ‰ $ æ—¶ï¼Œæ‰è€ƒè™‘è¿›ä¸€æ­¥å¤„ç†")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. æŸ¥æ‰¾ ${}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// startOffsetã€endOffset ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ²¡æœ‰æ‹–é€‰æ—¶ï¼Œèµ·ç»ˆä½ç½®ä¸€è‡´")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startOffset "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endOffset\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‘å·¦æŸ¥æ‰¾æœ€è¿‘çš„ ${ ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      start"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‘å³æŸ¥æ‰¾æœ€è¿‘çš„ }")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      end"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. ç¡®å®šå…‰æ ‡ä½ç½®æ˜¯å¦åœ¨ ${} å†…")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br")])]),a("p",[t._v("é€šè¿‡ä¸Šè¿°ä»£ç ï¼Œå¯ä»¥ç¡®å®šç¬¦åˆæ¡ä»¶çš„ start ä¸ end çš„å€¼ï¼Œå³ ${ å’Œ } çš„èµ·ç‚¹å’Œç»ˆç‚¹ã€‚")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å–åˆ°é‡Œé¢çš„å€¼ï¼Œè¿›è¡Œè¿‡æ»¤æŸ¥æ‰¾å³å¯")]),t._v(" "),a("h3",{attrs:{id:"_2-æŸ¥æ‰¾å…³é”®å­—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æŸ¥æ‰¾å…³é”®å­—"}},[t._v("#")]),t._v(" 2. æŸ¥æ‰¾å…³é”®å­—")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/JS-banana/images/vuepress/mte-hint-3.gif",alt:"$æ™ºèƒ½æç¤ºgif"}})]),t._v(" "),a("p",[t._v("æ¯”å¦‚æˆ‘è¾“å…¥ "),a("code",[t._v("${start}")]),t._v("ï¼Œé‚£ä¹ˆå–å€¼å°±æ˜¯ startï¼Œ")]),t._v(" "),a("p",[t._v("ä¸”åˆ—è¡¨æ•°æ®ä¸­åŒ…å« startTimeã€startGameã€endTimeã€endGame è¿™äº›å€¼ï¼Œé‚£ä¹ˆè¿‡æ»¤æŸ¥è¯¢ç¬¦åˆåŒ¹é…çš„åº”è¯¥æœ‰ startTimeã€startGame")]),t._v(" "),a("p",[a("code",[t._v("const currentStr = value.slice(start + 1, end)")])]),t._v(" "),a("p",[t._v("å…ˆå¾—åˆ° currentStr å€¼ï¼Œå¹¶ç¼“å­˜åˆ° "),a("code",[t._v("keyword_str.value = currentStr")]),t._v("ï¼Œç”¨äºæ’å…¥æ›¿æ¢æ–‡æœ¬æ—¶è®¡ç®—ä½ç½®ä½¿ç”¨")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" currentStr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åµŒå¥—çš„ä¸å¤„ç†")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" currentStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" currentStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. å¤„ç†å…³é”®å­—åŒ¹é…")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¼“å­˜å…³é”®å­—ï¼Œç”¨äºæ’å…¥æ›¿æ¢æ–‡æœ¬æ—¶è®¡ç®—ä½ç½®")]),t._v("\n  keyword_str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" currentStr\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿‡æ»¤åŒ¹é…æ¨¡ç³ŠæŸ¥æ‰¾")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" listData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("n")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  tipOptions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clonedeep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰“å¼€å¼¹çª—")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// isShow.value = true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸ç¬¦åˆæ¡ä»¶æ—¶ï¼Œå…³é—­å¼¹çª—ï¼Œæ¸…ç©ºæ•°æ®")]),t._v("\n  isShow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  tipOptions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("h3",{attrs:{id:"åŠ¨æ€è®¡ç®—å¼¹çª—ä½ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ¨æ€è®¡ç®—å¼¹çª—ä½ç½®"}},[t._v("#")]),t._v(" åŠ¨æ€è®¡ç®—å¼¹çª—ä½ç½®")]),t._v(" "),a("p",[t._v("æˆ‘æƒ³è¦çš„æ•ˆæœæ˜¯ç±»ä¼¼ VsCode ä»£ç æç¤ºé‚£ç§ï¼Œå½“æˆ‘åœ¨è¾“å…¥æ—¶ï¼Œå¼¹çª—çš„ä½ç½®åº”è¯¥æ˜¯å§‹ç»ˆè·Ÿéšæˆ‘å…‰æ ‡çš„ä½ç½®ä¸‹é¢çš„")]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ç»å¯¹å®šä½absoluteï¼Œåªéœ€è¦è€ƒè™‘ top å€¼å³å¯ï¼Œä½¿ç”¨ "),a("code",[t._v("getBoundingClientRect")]),t._v(" æ–¹æ³•å¿«é€Ÿå®ç°")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4. å¼¹çª—é«˜åº¦å¤„ç†")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼¹çª— top å€¼ï¼ˆä¸ºäº†å¼¹çª—å§‹ç»ˆè·Ÿéšå…‰æ ‡æ‰€åœ¨ä½ç½®ï¼‰")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" boxTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" editorDomRect "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" editorBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBoundingClientRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯Œæ–‡æœ¬å®¹å™¨")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" textNodeRect "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("focusNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBoundingClientRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–‡æœ¬èŠ‚ç‚¹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textNodeRect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" editorDomRect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—å·®å€¼")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1ï¼‰éœ€è¦è€ƒè™‘æœ‰çš„ä¸€ä¸²æ–‡æœ¬å¾ˆé•¿ï¼Œå¯èƒ½æ¨ªæ¡†å‡ è¡Œï¼Œä½†æ˜¯å±äºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼Œå› æ­¤ï¼Œéœ€è¦è€ƒè™‘ textNodeRect.height ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2ï¼‰è€ƒè™‘å¯Œæ–‡æœ¬å·¥å…·æ çš„é«˜åº¦ 42")]),t._v("\nboxTop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" textNodeRect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("ä¸€åˆ‡å°±ç»ªï¼Œæ§åˆ¶å¼¹çª—çš„å¼€å¯å’Œå…³é—­")]),t._v(" "),a("p",[t._v("æ˜¯çš„ï¼Œä¸Šé¢æˆ‘ä»¬åˆ é™¤äº†åœ¨é”®ç›˜äº‹ä»¶è¾“å…¥ $ æ—¶è§¦å‘å¼€å¯å¼¹çª—çš„é€»è¾‘ï¼Œæ”¾åœ¨äº†è¿™é‡Œï¼Œæƒ³å¿…çœ‹åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥ç†è§£äº†é€‰æ‹©åœ¨ "),a("code",[t._v("selectiononchange")]),t._v(" äº‹ä»¶ä¸­è¿›è¡Œå¤„ç†çš„å¥½å¤„ï¼Œå°¤å…¶æ˜¯é’ˆå¯¹æˆ‘ä»¬çš„è¿™ä¸ªåœºæ™¯æ¥è¯´ã€‚")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endOffset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰“å¼€å¼¹çª—")]),t._v("\n  isShow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸ç¬¦åˆæ¡ä»¶æ—¶ï¼Œå…³é—­å¼¹çª—ï¼Œæ¸…ç©ºæ•°æ®")]),t._v("\n  isShow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  tipOptions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("å®Œæ•´çš„ä»£ç ï¼Œåœ°å€å·²æ”¾åœ¨ä¸‹é¢äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è¿›ä¸€æ­¥æŸ¥çœ‹~")]),t._v(" "),a("h2",{attrs:{id:"ç©ºç™½ç¬¦çš„éš”ç¦»ä¼˜åŒ–å¤„ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç©ºç™½ç¬¦çš„éš”ç¦»ä¼˜åŒ–å¤„ç†"}},[t._v("#")]),t._v(" ç©ºç™½ç¬¦çš„éš”ç¦»ä¼˜åŒ–å¤„ç†")]),t._v(" "),a("p",[t._v("å…¶å®ï¼Œåˆ°è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬åŸºæœ¬å®ç°äº†ç›¸å…³åŠŸèƒ½ã€‚ä¸è¿‡ï¼Œå¯¹äºç›®å‰è¿™ç§åŸºäºåŸç”Ÿæ¥å£å®ç°çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ–¹æ¡ˆï¼Œè¿˜æ˜¯å­˜åœ¨ä¸€ä¸ªéå¸¸å½±å“ä½“éªŒçš„åœ°æ–¹éœ€è¦å¤„ç†ä¼˜åŒ–ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†æ’å…¥é€»è¾‘ï¼Œä¸æ­¤åŒæ—¶æˆ‘ä»¬éœ€è¦åŒæ­¥åˆ›å»ºä¸€ä¸ªç©ºç™½èŠ‚ç‚¹ï¼Œå¹¶ä½¿å…‰æ ‡å‘åç§»åŠ¨ä¸€ä½ï¼Œä¸ºçš„æ˜¯åœ¨å¯Œæ–‡æœ¬çš„é€»è¾‘ä¸­ï¼Œæ’å…¥æ–‡æœ¬åä¸å½±å“åé¢çš„è¾“å…¥ã€‚")]),t._v(" "),a("p",[t._v("è™½ç„¶ç©ºç™½èŠ‚ç‚¹ä¸å¯è§ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬é€šè¿‡é¼ æ ‡ç‚¹å‡»çš„æ—¶å€™ï¼Œä¼šå‡ºç°è¿™ä¹ˆä¸€ç§æƒ…å†µï¼Œåœ¨ç‚¹å‡»ä¹‹åï¼Œå…‰æ ‡çš„ä½ç½®å®é™…ä¸Šæ˜¯ç§»åŠ¨åˆ°äº†å˜é‡çš„æ–‡æœ¬èŠ‚ç‚¹å†…äº†çš„ï¼Œä¾‹å¦‚ï¼š")]),t._v(" "),a("p",[a("code",[t._v("${startTime}abc")]),t._v(" è¿™æ®µæ–‡æœ¬")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/JS-banana/images/vuepress/mte-hint-1.jpg",alt:"1"}})]),t._v(" "),a("p",[t._v("åœ¨DOMä¸Šçš„ç»“æ„å®é™…ä¸Šæ˜¯è¿™æ ·çš„")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/JS-banana/images/vuepress/mte-hint-2.jpg",alt:"2"}})]),t._v(" "),a("p",[t._v("å½“æˆ‘åœ¨ "),a("code",[t._v("}a")]),t._v(" è¿™ä¸¤ä¸ªå­—ç¬¦ä¸­é—´çš„ä½ç½®ç‚¹å‡»ä¸€æ¬¡æ—¶ï¼Œå…‰æ ‡ä¼šç§»åŠ¨åˆ°è¿™é‡Œï¼Œé‚£ä¹ˆä½ è§‰å¾—æˆ‘æ¥ä¸‹æ¥è¾“å…¥å†…å®¹åï¼Œå®ƒä¼šåœ¨å“ªä¸ªèŠ‚ç‚¹ä¸­å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("ç­”æ¡ˆæ˜¯è¿™æ ·çš„ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("é’ˆå¯¹ç”¨ä¾‹è¿™æ ·çš„å†…å®¹ï¼Œç»“æœå¹¶ä¸ç»å¯¹ï¼Œå¯èƒ½å’Œæˆ‘ç‚¹å‡»çš„ä½ç½®æœ‰å…³ç³»ï¼Œæœ‰æ—¶åœ¨å˜é‡æ–‡æœ¬èŠ‚ç‚¹å†…ï¼Œæœ‰æ—¶ä¸åœ¨ï¼Œçœ‹ä¼¼æ­£å¸¸ï¼Œä½†æ˜¯è¿™æ ·çš„ç»“æœéå¸¸ä¸å¯é ï¼Œä¸æ˜¯æˆ‘ä»¬æ‰€èƒ½æ§åˆ¶çš„")]),t._v(" "),a("li",[t._v("å¯¹äº "),a("code",[t._v("${startTime}")]),t._v(" è¿™æ ·çš„æ–‡æœ¬ï¼Œä½äºæ–‡æœ¬æœ«å°¾æ—¶ï¼ŒåŸºæœ¬ä¸Šæ˜¯éå¸¸ç¡®å®šçš„ï¼Œåœ¨ç‚¹å‡»åï¼Œä¼šè·‘åˆ° span æ ‡ç­¾ä¸­â€”â€”æˆ‘ä»¬çš„å˜é‡æ–‡æœ¬èŠ‚ç‚¹å†…ã€‚")])]),t._v(" "),a("p",[t._v("é‚£ä¹ˆæˆ‘æ‰€å¸Œæœ›çš„æ˜¯ï¼Œå­˜åœ¨ "),a("code",[t._v("${startTime}")]),t._v(" è¿™ç§æ’å…¥åçš„å˜é‡æ–‡æœ¬æ ‡ç­¾æ—¶ï¼Œå½“æˆ‘ç‚¹å‡» "),a("code",[t._v("}")]),t._v(" åé¢çš„ä½ç½®ï¼Œé‚£ä¹ˆå®ƒå°±åº”è¯¥æ˜¯å¤„äºå˜é‡æ–‡æœ¬èŠ‚ç‚¹å¤–ã€‚")]),t._v(" "),a("p",[t._v("åˆ†æä¸‹æƒ…å†µï¼š")]),t._v(" "),a("ol",[a("li",[t._v("é¦–å…ˆè¦åˆ¤æ–­å…‰æ ‡ä½ç½®æ˜¯å¦åœ¨å˜é‡åé¢å’Œç©ºå ä½ç¬¦å‰é¢")]),t._v(" "),a("li",[t._v("å˜é‡æ–‡æœ¬èŠ‚ç‚¹å¤„åœ¨æœ«å°¾")]),t._v(" "),a("li",[t._v("å˜é‡æ–‡æœ¬èŠ‚ç‚¹å¤„åœ¨è¡Œä¸­")]),t._v(" "),a("li",[t._v("é”®ç›˜æ“ä½œçš„è”åŠ¨å¤„ç†ï¼Œå¦‚ åˆ é™¤é”®")])]),t._v(" "),a("p",[t._v("åŒæ ·çš„ï¼Œè¿™é‡Œçš„é€»è¾‘ä¹Ÿæ˜¯æ”¾åœ¨ "),a("code",[t._v("selectionchange")]),t._v(" äº‹ä»¶ä¸­å¤„ç†ï¼Œç›¸å…³é€»è¾‘æŠ½ç¦»åˆ° "),a("code",[t._v("filterEmptyText")]),t._v(" å‡½æ•°ä¸­")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectionchange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" selection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSelection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" range "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRangeAt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log('range', range)")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("filterEmptyText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šåœ¨é”®ç›˜å¤„äºæ“ä½œçš„æ—¶å€™ï¼Œæ°å½“åœ°æ§åˆ¶å‡½æ•°çš„æ‰§è¡Œã€‚")]),t._v(" "),a("ul",[a("li",[t._v("å› ä¸ºç¼–è¾‘åŒºå…‰æ ‡çš„å˜åŠ¨ä¼šç›´æ¥è§¦å‘è¯¥å‡½æ•°çš„æ‰§è¡Œï¼Œéœ€è¦é¿å…äº§ç”Ÿé€»è¾‘å†²çª")]),t._v(" "),a("li",[t._v("åˆ é™¤é”®ä¹Ÿéœ€è¦å•ç‹¬å¤„ç†ï¼Œå®ƒä¼šç›´æ¥å½±å“å…‰æ ‡çš„ä½ç½®æ˜¯å¦åœ¨å˜é‡æ–‡æœ¬èŠ‚ç‚¹æœ«å°¾")]),t._v(" "),a("li",[t._v("ä¸ºäº†æ›´å¥½çš„æ§åˆ¶å˜é‡èŠ‚ç‚¹ï¼Œè¿™é‡Œè€ƒè™‘è§†è¯¥èŠ‚ç‚¹ä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œæ“ä½œï¼Œå°¤å…¶æ˜¯åœ¨åˆ é™¤æ—¶")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("filterEmptyText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const selection = document.getSelection()")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const range = selection.getRangeAt(0)")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–å½“å‰æ–‡æœ¬èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" parentNode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commonAncestorContainer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNode\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦å¤„åœ¨å˜é‡æ–‡æœ¬èŠ‚ç‚¹çš„æœ«å°¾")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isLast "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commonAncestorContainer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endOffset\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“é”®ç›˜æŒ‰é”®å¤„äºæ“ä½œä¸­æ—¶ï¼Œç›¸å…³é€»è¾‘ä¸å¤„ç†")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parentNode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" isLast "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("keywordObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isDoing"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isVarSpan "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SPAN'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\$\\{(.+?)\\}")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isNextSibing "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nextSibling "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nextSibling"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SPAN'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ§åˆ¶å…‰æ ‡å’Œç©ºç™½ç¬¦çš„å…³ç³»")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isVarSpan "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" isNextSibing"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. ç©ºç™½å ä½ç¬¦å­˜åœ¨ï¼Œå‘åç§»åŠ¨ä¸€ä½")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç¬¦åˆ1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myRange "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createRange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      myRange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectNodeContents")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nextSibling"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      myRange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("collapse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeAllRanges")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addRange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myRange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isVarSpan "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("isNextSibing"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. ç©ºç™½å ä½ç¬¦ä¸å­˜åœ¨ï¼Œåˆ›å»º")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç¬¦åˆ2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keywordObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isDeleteKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤é€»è¾‘ï¼Œç›´æ¥åˆ é™¤æ•´ä¸ªå˜é‡ï¼Œé€šè¿‡ isDeleteKey é¿å…å½±å“å…‰æ ‡ä½ç½®")]),t._v("\n        parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parentNode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ’å…¥ç©ºç™½å ä½ç¬¦")]),t._v("\n        editor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("selection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createEmptyRange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br")])]),a("h2",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),a("p",[t._v("å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çœ‹ä¼¼ç®€å•ï¼Œå…¶å®æ¶‰åŠåˆ°çš„ç»†èŠ‚ä¹Ÿæ˜¯éå¸¸å¤šçš„ã€‚æˆ‘ä»¬ä¹ æƒ¯äº†ä½¿ç”¨æˆç†Ÿçš„æŠ€æœ¯æ¡†æ¶ã€æ’ä»¶ç­‰æ¥ååŠ©æˆ‘ä»¬å¿«é€Ÿå®ç°ä¸šåŠ¡åŠŸèƒ½ï¼Œä¸è¿‡ï¼Œå¾ˆå¤šç‰¹æ®ŠåŠŸèƒ½ä¹Ÿæ˜¯æ¥è‡ªä¸šåŠ¡éœ€æ±‚ï¼Œè¿™ä¼šä¸ºæˆ‘ä»¬æä¾›ä¸€ä¸ªæ·±å…¥æ¢ç´¢æŠ€æœ¯çš„æœºä¼šï¼Œé€šè¿‡ç»“åˆå®é™…é¡¹ç›®å’Œéœ€æ±‚åé¦ˆå¾—ä»¥ä¸æ–­å®Œå–„æˆ‘ä»¬çš„åŠŸèƒ½ç»†èŠ‚ï¼Œè¿™ä¹Ÿæ˜¯ä¸æ–­æå‡è‡ªå·±çš„è¿‡ç¨‹ã€‚")]),t._v(" "),a("p",[t._v("åœ¨å®ç°è¯¥åŠŸèƒ½çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°äº†æ­£åé¦ˆï¼ŒæœŸé—´æˆ‘ä»¬å­¦ä¹ äº†æŠ€æœ¯åŸç†ï¼Œäº†è§£äº†å¯Œæ–‡æœ¬çš„å‘å±•å†ç¨‹ï¼Œæ¥è§¦åˆ°äº†æ›´å…ˆè¿›çš„å®ç°æ€æƒ³ã€‚ä»ä¾é æµè§ˆå™¨æä¾›çš„contenteditableä»¥åŠexecCommandè¿™ä¸¤å¤§åŸç”Ÿçš„APIå®ç°ä¸€ä¸ªå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆå¦‚UEditorã€wangEditorï¼‰ ï¼Œåˆ°é€šè¿‡æ•°æ®æ¨¡å‹å¯¹DOM Treeå·²ç»æ•°æ®çš„ä¿®æ”¹æ“ä½œè¿›è¡Œäº†æŠ½è±¡ï¼Œä½¿å¼€å‘è€…åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä¸æ˜¯ç›´æ¥æ“ä½œçš„DOMå®Œæˆçš„å„ç§åŠŸèƒ½ï¼Œè€Œæ˜¯ä½¿ç”¨æ¡†æ¶æ„å»ºçš„æ¨¡å‹æ‰€æä¾›çš„APIå®Œæˆçš„ï¼ˆå¦‚Quill.jsã€ProseMirrorã€Draft.jsã€Slateï¼‰ï¼Œå†åˆ°ä¸ä¾èµ–æµè§ˆå™¨çš„ç¼–è¾‘èƒ½åŠ›ï¼Œç‹¬ç«‹å®ç°å…‰æ ‡å’Œæ’ç‰ˆï¼ˆå¦‚Goole Docï¼ŒæŸ¥çœ‹DOMç»“æ„å¯ä»¥å‘ç°æ˜¯åŸºäºcanvaså®ç°ğŸ˜®ï¼‰")]),t._v(" "),a("p",[t._v("æŠ€æœ¯å˜åŒ–æ›´è¿­å¤ªå¿«äº†ï¼Œè¿™ä¹ˆä¸€çœ‹æˆ‘ä»¬çš„è¿™ä¸€å®ç°ç®—æ˜¯éå¸¸åŸå§‹äº†ï¼Œä¸è¿‡ï¼Œä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œæˆ‘ä»¬åŸºäºç®€å•æ¨¡å‹çš„å®ç°ï¼Œå¯ä»¥å¿«é€Ÿè®©æˆ‘ä»¬äº†è§£åˆ°å…¶åŸºæœ¬åŸç†ï¼Œå¹¶ä»¥æ­¤ä¸ºå¼•ï¼Œä¸æ–­ç²¾è¿›ï¼Œå­¦ä¹ å…¶ä»–å†…å®¹ï¼Œæœ€ååšåˆ°çŸ¥å…¶ç„¶çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/JS-banana/images/emoji/1.jpg",alt:"emoji"}})]),t._v(" "),a("h2",{attrs:{id:"demoåœ°å€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demoåœ°å€"}},[t._v("#")]),t._v(" demoåœ°å€")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/JS-banana/app-demo/tree/main/packages/mte-hint",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/JS-banana/app-demo/tree/main/packages/mte-hint"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"èµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èµ„æ–™"}},[t._v("#")]),t._v(" èµ„æ–™")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://zh.javascript.info/selection-range",target:"_blank",rel:"noopener noreferrer"}},[t._v("é€‰æ‹©ï¼ˆSelectionï¼‰å’ŒèŒƒå›´ï¼ˆRangeï¼‰"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000040211043",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScriptä¸­å¯¹å…‰æ ‡å’Œé€‰åŒºçš„æ“ä½œ"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Document/execCommand",target:"_blank",rel:"noopener noreferrer"}},[t._v("document.execCommand"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/kidsitcn/p/11628822.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("web dom apiä¸­çš„Selectionå’ŒRange"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.wangeditor.com/v5/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.wangeditor.com/v5/"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6955335319566680077",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ‰ å¯Œæ–‡æœ¬ç¼–è¾‘å™¨åˆæ¢"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6844903508446019597",target:"_blank",rel:"noopener noreferrer"}},[t._v("åˆ©ç”¨ javascript å®ç°å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);